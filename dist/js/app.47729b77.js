(function(e){function t(t){for(var n,i,c=t[0],r=t[1],l=t[2],d=0,v=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&v.push(o[i][0]),o[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var r=a[c];0!==o[r]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/-simulations2/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=r;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("db62")},2278:function(e,t,a){},3654:function(e,t,a){"use strict";a("caba")},"44dc":function(e,t,a){"use strict";a("2278")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("router-view")],1)},s=[],i=(a("034f"),a("2877")),c={},r=Object(i["a"])(c,o,s,!1,null,null,null),l=r.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home py-6"},[a("div",{staticClass:"columns fullHeight"},[a("div",{staticClass:"column"},[a("cmp-form",{attrs:{form:e.form1,title:"Пул"}}),a("b-field",{attrs:{label:"prices:",grouped:"","group-multiline":""}},[e._l(e.prices,(function(t){return a("div",{key:t.name,staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[e._v(e._s(t.name))]),a("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[e._v(e._s(t.value))])],1)],1)})),a("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"border-color"},on:{click:function(t){e.priceModal=!0}}})],2)],1),a("div",{staticClass:"column"},[a("cmp-accounts-form",{attrs:{form:e.accounts,tokenOptions:e.config.tokens.concat([e.config.stable]),title:"Аккаунты"}})],1),a("div",{staticClass:"column"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Операции")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){return e.nextTick()}}},[e._v("Сделать шаг")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.createDepositModal=!0}}},[e._v("Сделать депозит")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.returnDepositModal=!0}}},[e._v("Вернуть депозит")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.mintModal=!0}}},[e._v("Выпуск стейбл")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.tradeModal=!0}}},[e._v("Обмен")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.borrowModal=!0}}},[e._v("Взять займ")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.repayModal=!0}}},[e._v("Вернуть займ ")])],1),a("div",{staticClass:"column is-half"},[a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.liquidateModal=!0}}},[e._v("Ликвидация займа")])],1)])])]),a("div",{staticClass:"columns fullHeight"},[a("div",{staticClass:"column"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Результат")]),a("b-table",{attrs:{data:this.table,columns:e.columns}})],1),a("div",{staticClass:"column"},[a("h2",{staticClass:"is-size-4 mb-3 "},[e._v("История")]),a("div",{ref:"history",staticClass:"history"},e._l(e.history,(function(t,n){return a("div",{key:n},[e._v(" "+e._s(n)+") "+e._s(t)+" ")])})),0)])]),a("b-modal",{attrs:{width:640},model:{value:e.tokenModal,callback:function(t){e.tokenModal=t},expression:"tokenModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"})])]),a("b-modal",{attrs:{width:440},model:{value:e.priceModal,callback:function(t){e.priceModal=t},expression:"priceModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("cmp-form",{attrs:{form:e.prices,title:"Prices"}})],1)])]),a("b-modal",{attrs:{width:440},model:{value:e.createDepositModal,callback:function(t){e.createDepositModal=t},expression:"createDepositModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Сделать депозит")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},model:{value:e.createDepositInfo.account,callback:function(t){e.$set(e.createDepositInfo,"account",t)},expression:"createDepositInfo.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("token")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"number"},model:{value:e.createDepositInfo.value,callback:function(t){e.$set(e.createDepositInfo,"value",t)},expression:"createDepositInfo.value"}}),e._l(e.accountsChecked[e.createDepositInfo.account],(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token","native-value":t.name},model:{value:e.createDepositInfo.token,callback:function(t){e.$set(e.createDepositInfo,"token",t)},expression:"createDepositInfo.token"}},[e._v(" "+e._s(t.name)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("Внести "+e._s(e.createDepositInfo.tokenInput)),a("br"),e._v(" "+e._s(e.createDepositInfo.token)+" от аккаунта №"+e._s(e.createDepositInfo.account+1)+" в депозит")]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.createDeposit(e.createDepositInfo),e.createDepositModal=!1}}},[e._v("Подтвердить")])],1)])])])]),a("b-modal",{attrs:{width:440},model:{value:e.returnDepositModal,callback:function(t){e.returnDepositModal=t},expression:"returnDepositModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Вернуть депозит")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},nativeOn:{click:function(t){return e.setReturnOptionToDeposit(n)}},model:{value:e.returnDeposit.account,callback:function(t){e.$set(e.returnDeposit,"account",t)},expression:"returnDeposit.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("token")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"number"},model:{value:e.returnDepositInfo.value,callback:function(t){e.$set(e.returnDepositInfo,"value",t)},expression:"returnDepositInfo.value"}}),e._l(e.returnDepositInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token","native-value":t.name},model:{value:e.returnDepositInfo.token,callback:function(t){e.$set(e.returnDepositInfo,"token",t)},expression:"returnDepositInfo.token"}},[e._v(" "+e._s(t.name)+" "+e._s(t.value)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("Вывести "+e._s(e.returnDepositInfo.tokenInput)),a("br"),e._v(" "+e._s(e.returnDepositInfo.token)+" от аккаунта №"+e._s(e.returnDepositInfo.account+1)+" на личный баланс")]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.returnDeposit(e.returnDepositInfo),e.returnDepositModal=!1}}},[e._v("Подтвердить")])],1)])])])]),a("b-modal",{attrs:{width:640},model:{value:e.borrowModal,callback:function(t){e.borrowModal=t},expression:"borrowModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Взять займ")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},nativeOn:{click:function(t){return e.setReturnOptionToBorrow(n,e.borrowInfo.token)}},model:{value:e.borrowInfo.account,callback:function(t){e.$set(e.borrowInfo,"account",t)},expression:"borrowInfo.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("you get (max - "+e._s(e.borrowInfo.maxBorrow)+")")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"number"},model:{value:e.borrowInfo.value,callback:function(t){e.$set(e.borrowInfo,"value",t)},expression:"borrowInfo.value"}}),e._l(e.borrowInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token1","native-value":t},nativeOn:{click:function(a){return e.setReturnOptionToBorrow(e.borrowInfo.account,t)}},model:{value:e.borrowInfo.token,callback:function(t){e.$set(e.borrowInfo,"token",t)},expression:"borrowInfo.token"}},[e._v(" "+e._s(t)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("Обеспеченность займа: 200% ")]),a("h2",{staticClass:"is-size-6"},[e._v("Занять "),a("br"),e._v(" "+e._s(e.borrowInfo.payValue)+" "+e._s(e.borrowInfo.token)+" "),a("br"),e._v(" аккаунту №"+e._s(e.borrowInfo.account+1))]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.borrow(e.borrowInfo),e.borrowModal=!1}}},[e._v("Подтвердить")])],1)])])])]),a("b-modal",{attrs:{width:640},model:{value:e.mintModal,callback:function(t){e.mintModal=t},expression:"mintModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Выпуск стейблкоинов")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},nativeOn:{click:function(t){return e.setMaxToMint(n,e.mintInfo.token)}},model:{value:e.mintInfo.account,callback:function(t){e.$set(e.mintInfo,"account",t)},expression:"mintInfo.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("you get (max - "+e._s(e.mintInfo.maxMint)+")")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"number"},model:{value:e.mintInfo.value,callback:function(t){e.$set(e.mintInfo,"value",t)},expression:"mintInfo.value"}}),e._l(e.mintInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token1","native-value":t},nativeOn:{click:function(a){return e.setReturnOptionToBorrow(e.mintInfo.account,t)}},model:{value:e.mintInfo.token,callback:function(t){e.$set(e.mintInfo,"token",t)},expression:"mintInfo.token"}},[e._v(" "+e._s(t)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v(" Выпустить для аккаунта №"+e._s(e.mintInfo.account+1)+" "+e._s(e.mintInfo.token)+" "+e._s(e.mintInfo.value)+" ")]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.mint(e.mintInfo),e.mintModal=!1}}},[e._v("Подтвердить")])],1)])])])]),a("b-modal",{attrs:{width:640},model:{value:e.tradeModal,callback:function(t){e.tradeModal=t},expression:"tradeModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Обмен")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-3"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},model:{value:e.tradeInfo.account,callback:function(t){e.$set(e.tradeInfo,"account",t)},expression:"tradeInfo.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-6"},[a("div",{staticStyle:{width:"50%"}},[a("h2",{staticClass:"is-size-6"},[e._v("you get")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"number"},model:{value:e.tradeInfo.value,callback:function(t){e.$set(e.tradeInfo,"value",t)},expression:"tradeInfo.value"}})],1),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},e._l(e.tradeInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token1","native-value":t},model:{value:e.tradeInfo.token,callback:function(t){e.$set(e.tradeInfo,"token",t)},expression:"tradeInfo.token"}},[e._v(" "+e._s(t)+" ")])],1)})),0),a("div",{staticClass:"column is-6"},e._l(e.tradeInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token2","native-value":t},model:{value:e.tradeInfo.token2,callback:function(t){e.$set(e.tradeInfo,"token2",t)},expression:"tradeInfo.token2"}},[e._v(" "+e._s(t)+" ")])],1)})),0)])]),a("div",{staticClass:"column is-3"},[a("h2",{staticClass:"is-size-6"},[e._v(" Обменять для аккаунта №"+e._s(e.tradeInfo.account+1)+" "+e._s(e.tradeInfo.token)+" "+e._s(e.tradeInfo.value)+" на "+e._s(e.tradeInfo.token2)+" ")]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.trade(e.tradeInfo),e.tradeModal=!1}}},[e._v("Подтвердить")])],1)])])])]),a("b-modal",{attrs:{width:640},model:{value:e.repayModal,callback:function(t){e.repayModal=t},expression:"repayModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Вернуть займ")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},nativeOn:{click:function(t){return e.setRepayAccountInfo(n)}},model:{value:e.repayInfo.account,callback:function(t){e.$set(e.repayInfo,"account",t)},expression:"repayInfo.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("token")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"text"},model:{value:e.repayInfo.value,callback:function(t){e.$set(e.repayInfo,"value",t)},expression:"repayInfo.value"}}),e._l(e.repayInfo.borrows,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token","native-value":t.name},model:{value:e.repayInfo.token,callback:function(t){e.$set(e.repayInfo,"token",t)},expression:"repayInfo.token"}},[e._v(" "+e._s(t.name)+" - "+e._s(t.value)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h2",{staticClass:"is-size-6"},[e._v("loan: 1200 ETH for 12 BTC")]),a("h2",{staticClass:"is-size-6"},[e._v("срок: 12 мес")]),a("h2",{staticClass:"is-size-6"},[e._v("к возврату: "+e._s(e.repayInfo.sumBorrowPlusEffects)+" ETH")]),a("h2",{staticClass:"is-size-6"},[e._v("обеспечение: "+e._s(e.repayInfo.sumCollateral)+" BTC")]),a("h3",{staticClass:"is-size-8"},[e._v(" Вернуть займ аккаунта №"+e._s(e.repayInfo.account+1)+" в размере 1300 ЕTH и вернуть 13 BTC "+e._s(e.repayInfo.payValue)+" "+e._s(e.repayInfo.token)+" "),a("br")]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.repay(e.repayInfo),e.repayModal=!1}}},[e._v("Подтвердить")])],1)])])])]),a("b-modal",{attrs:{width:740},model:{value:e.liquidateModal,callback:function(t){e.liquidateModal=t},expression:"liquidateModal"}},[a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v("Ликвидация займа")]),a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-2"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account","native-value":n},nativeOn:{click:function(t){return e.setMaxLiquidate(n,e.liquidateInfo.token)}},model:{value:e.liquidateInfo.account,callback:function(t){e.$set(e.liquidateInfo,"account",t)},expression:"liquidateInfo.account"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-2"},[a("h2",{staticClass:"is-size-6"},[e._v("token max("+e._s(e.liquidateInfo.maxLiquidate)+")")]),a("b-input",{staticClass:"is-flex-grow-2",attrs:{type:"text"},model:{value:e.liquidateInfo.value,callback:function(t){e.$set(e.liquidateInfo,"value",t)},expression:"liquidateInfo.value"}}),e._l(e.liquidateInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token","native-value":t},nativeOn:{click:function(a){return e.setMaxLiquidate(e.liquidateInfo.account,t)}},model:{value:e.liquidateInfo.token,callback:function(t){e.$set(e.liquidateInfo,"token",t)},expression:"liquidateInfo.token"}},[e._v(" "+e._s(t)+" ")])],1)}))],2),a("div",{staticClass:"column is-2"},[a("h2",{staticClass:"is-size-6"},[e._v("account")]),e._l(e.accounts,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"account2","native-value":n},model:{value:e.liquidateInfo.account2,callback:function(t){e.$set(e.liquidateInfo,"account2",t)},expression:"liquidateInfo.account2"}},[e._v(" №"+e._s(n+1)+" ")])],1)}))],2),a("div",{staticClass:"column is-2"},[a("h2",{staticClass:"is-size-6"},[e._v("token")]),e._l(e.liquidateInfo.options,(function(t,n){return a("div",{key:n},[a("b-radio",{attrs:{name:"token2","native-value":t},model:{value:e.liquidateInfo.token2,callback:function(t){e.$set(e.liquidateInfo,"token2",t)},expression:"liquidateInfo.token2"}},[e._v(" "+e._s(t)+" ")])],1)}))],2),a("div",{staticClass:"column is-4"},[a("h3",{staticClass:"is-size-8"},[e._v(" Ликвидировать займ аккаунта №"+e._s(e.liquidateInfo.account+1)+" и перевести 1200 "+e._s(e.liquidateInfo.token)+" в пул ")]),a("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(t){e.liquidate(e.liquidateInfo),e.liquidateModal=!1}}},[e._v("Подтвердить")])],1)])])])])],1)},v=[],f=(a("99af"),a("4160"),a("b0c0"),a("d3b7"),a("25f0"),a("159b"),a("5530")),m=a("2f62"),p={tokens:["BTC","ETH","USDT","EOS"],stable:["sUSD"],tradeFee:1,baseMultiplier:2,baseRate:5,reserveFactor:.1,collateralFactor:.5,closeFactor:.5,liquidationIncentive:.97,penaltyCoefficient:.1,prices:{BTC:10500,ETH:350,USDT:1,EOS:2,sUSD:1}},b=p,h=(a("4de4"),a("c975"),a("d81d"),a("13d5"),a("b680"),a("b64b"),a("ac1f"),a("1276"),a("4c53"),a("b85c")),g=a("3835"),k=a("d4ec"),w=a("ade3"),_=a("4128"),y=a.n(_);a("4fad"),a("07ac");var I=function e(){var t=this;Object(k["a"])(this,e),Object(w["a"])(this,"get",(function(e){return t.accounts[e]||(t.accounts[e]={borrows:{},deposits:{},balance:{},dao:{importance:new y.a(0),dTokens:new y.a(0),delegators:[]}}),t.accounts[e]})),Object(w["a"])(this,"all",(function(){return t.accounts})),Object(w["a"])(this,"values",(function(){return Object.values(t.accounts)})),Object(w["a"])(this,"addDeposit",(function(e,a,n,o,s){if(t.get(e).deposits[a]){var i=t.get(e).deposits[a];i.value=i.value.plus(n),i.share=i.share.plus(o),i.capital=i.capital.plus(new y.a(n).times(s))}else t.get(e).deposits[a]={value:new y.a(n),share:o,capital:new y.a(n).times(s)}})),Object(w["a"])(this,"removeDeposit",(function(e,a,n,o,s){if(t.get(e).deposits[a]){var i=t.get(e).deposits[a],c=i.value.times(y.a.div(o,i.share));i.value=i.value.minus(c),i.share=i.share.minus(o),i.capital=i.capital.minus(new y.a(c).times(s))}})),Object(w["a"])(this,"getDeposit",(function(e,a){return t.get(e).deposits[a]})),Object(w["a"])(this,"setBorrow",(function(e,a,n,o){if(t.get(e).borrows[a]){var s=t.get(e).borrows[a];s.value=n,s.interestIndex=o}else t.get(e).borrows[a]={value:new y.a(n),interestIndex:new y.a(o)}})),Object(w["a"])(this,"countBorrow",(function(e,a,n){var o=t.get(e);if(!o.borrows[a]||o.borrows[a].value.eq(0))return new y.a(0);var s=o.borrows[a].value.times(n);return s.div(o.borrows[a].interestIndex)})),Object(w["a"])(this,"issueBalance",(function(e,a){Object.entries(a).forEach((function(a){var n=Object(g["a"])(a,2),o=n[0],s=n[1];t.get(e).balance[o]?t.get(e).balance[o]=t.get(e).balance[o].plus(s):t.get(e).balance[o]=new y.a(s)}))})),Object(w["a"])(this,"addBalance",(function(e,a,n){t.get(e).balance[a]?t.get(e).balance[a]=t.get(e).balance[a].plus(n):t.get(e).balance[a]=new y.a(n)})),Object(w["a"])(this,"subBalance",(function(e,a,n){var o=t.get(e).balance;return o[a]&&o[a].gte(n)?(t.get(e).balance[a]=o[a].minus(n),!0):(console.log("Not enough balance to spend ".concat(n," ").concat(a)),!1)})),Object(w["a"])(this,"forEach",(function(e){for(var a in t.accounts)t.accounts.hasOwnProperty(a)&&e(t.accounts[a],a,t.accounts)})),this.accounts={}},C=I,x=function e(t){var a=this;Object(k["a"])(this,e),Object(w["a"])(this,"get",(function(e){return a.reserves[e]||(a.reserves[e]={value:new y.a(0),totalBorrows:new y.a(0),borrowIndex:a.config.dayRate,totalReserves:new y.a(0),price:new y.a(0),capital:new y.a(0),weight:new y.a(0),staked:new y.a(0),prevDay:new y.a(a.config.day)}),a.reserves[e]})),Object(w["a"])(this,"all",(function(){return a.reserves})),Object(w["a"])(this,"addValue",(function(e,t){a.get(e).value=a.get(e).value.plus(t)})),Object(w["a"])(this,"setPrice",(function(e,t){a.get(e).price=new y.a(t)})),Object(w["a"])(this,"getValue",(function(e){return a.get(e).value})),Object(w["a"])(this,"getValueWithBorrows",(function(e){return a.get(e).value.plus(a.get(e).totalBorrows)})),Object(w["a"])(this,"getPrice",(function(e){return a.get(e).price})),Object(w["a"])(this,"getCapital",(function(e){return a.get(e).value.times(a.get(e).price)})),Object(w["a"])(this,"getLiquidCapital",(function(){return Object.keys(a.all()).map((function(e){return a.getCapital(e)})).reduce((function(e,t){return new y.a(e).plus(new y.a(t))}))})),Object(w["a"])(this,"getBorrowedCapital",(function(){return Object.keys(a.all()).map((function(e){return a.get(e).totalBorrows.times(a.get(e).price)})).reduce((function(e,t){return new y.a(e).plus(new y.a(t))}))})),Object(w["a"])(this,"getFullCapital",(function(){return a.getLiquidCapital().plus(a.getBorrowedCapital())})),this.config=t,this.reserves={}},O=x,j=365,B=function e(){var t=this;Object(k["a"])(this,e),Object(w["a"])(this,"createPool",(function(e){t.config=e,t.sTokens={},t.history=[],t.day=1,t.fees={tradeFee:new y.a(e.tradeFee)},t.stabFund={},t.collateralFactor=new y.a(t.config.collateralFactor),t.dayRate=new y.a(t.config.baseRate).div(j),t.dayMultiplier=new y.a(t.config.baseMultiplier).div(j),t.reserveFactor=new y.a(t.config.reserveFactor).div(j),t.accounts=new C,t.reserves=new O({day:t.day,dayRate:t.dayRate}),t.dynamicParams={stabPercentage:new y.a(30),closeFactor:new y.a(t.config.closeFactor),penaltyCoefficient:new y.a(t.config.penaltyCoefficient)},t.tickCallbacks=[],e.prices&&t.setPrices(e.prices)})),Object(w["a"])(this,"tick",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.day+=e,t._updateIndexesAll(),t._updateAccountsIndex(),t.tickCallbacks.forEach((function(t){return t(e)}))})),Object(w["a"])(this,"addTicker",(function(e){t.tickCallbacks.push(e)})),Object(w["a"])(this,"redeem",(function(e,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t._updateIndexes(a);var i=t.accounts.getDeposit(e,a);if(!i||i.share.lessThan(n))return{error:{message:"deposit not found or not enough share"},currentShare:i.share,specifiedShare:n};var c=t._liquidateShareAmount(n,a);if(c.value.lessThan(o))return{error:{message:"Return is less than specified minimum",maxReturn:c.value,minReturn:o}};var r=y.a.div(n,i.share);if(c.value.lessThan(i.value.mul(r))&&!s){var l=c.value.div(i.value),u=l.sqrt().mul(2).div(l.plus(1)).minus(1);return console.log(u),{error:{message:"Redeem with loss",output:c.value,loss:u}}}return!0!==t.accounts.subBalance(e,"x"+a,n)?{error:{message:"Not enough xTokens for redeem",token:"x"+a,need:n}}:(t._removeAccountDeposit(e,a,c.value,n),t.reserves.get(a).staked=t.reserves.get(a).staked.minus(c.value),t._countWeights(),t._updateAccountsIndex(),t.accounts.addBalance(e,c.name,c.value),c)})),Object(w["a"])(this,"redeemAll",(function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=t.accounts.getDeposit(e,a);return!s||s.share.equals(0)?{error:{message:"deposit not found"}}:t.redeem(e,a,s.share,n,o)})),Object(w["a"])(this,"deposit",(function(e,a){var n=a.name,o=a.value;if(!0!==t.accounts.subBalance(e,n,o))return console.log("Insifficient balance for deposit"),{name:"x"+n,value:0};var s=t._addAccountDeposit(e,n,o);return t.reserves.get(n).staked=t.reserves.get(n).staked.plus(o),t._countWeights(),t._updateIndexes(n),t._updateAccountsIndex(),t.accounts.addBalance(e,"x"+n,s),{name:"x"+n,value:s}})),Object(w["a"])(this,"getInfo",(function(){return{accounts:t.accounts.all(),reserves:t.reserves.all(),sTokens:t.sTokens,capital:t.reserves.getFullCapital(),stabFund:t.stabFund,prices:t._getPrices()}})),Object(w["a"])(this,"borrow",(function(e,a){var n=a.name,o=a.borrowAmount;t._updateIndexes(n);var s=t._checkBorrow(e,n,o),i=Object(g["a"])(s,2),c=(i[0],i[1]),r=t.reserves.get(n);if(c>0)console.log("not enough collateral");else if(r.value.lt(o))console.log("not enough reserve ".concat(n));else{var l=t.accounts.countBorrow(e,n,r.borrowIndex),u=l.plus(o);t.accounts.setBorrow(e,n,u,r.borrowIndex),r.value=r.value.minus(o),r.totalBorrows=r.totalBorrows.plus(o),t.accounts.addBalance(e,n,o),t._countWeights(),t._updateAccountsIndex()}})),Object(w["a"])(this,"mint",(function(e,a){var n=a.name,o=a.borrowAmount;if(-1!==t.config.stable.indexOf(n)){t._updateIndexes(n);var s=t._checkBorrow(e,n,o),i=Object(g["a"])(s,2),c=(i[0],i[1]),r=t.reserves.get(n);if(c>0)console.log("not enough collateral");else{var l=t.accounts.countBorrow(e,n,r.borrowIndex),u=l.plus(o),d=r.totalBorrows.plus(o);t.accounts.setBorrow(e,n,u,r.borrowIndex),r.totalBorrows=d,t.accounts.addBalance(e,n,o),t._countWeights(),t._updateAccountsIndex()}}else console.log("this token is not stable")})),Object(w["a"])(this,"burn",(function(e,a,n){if(-1!==t.config.stable.indexOf(a)){t._updateIndexes(a);var o=t.reserves.get(a),s=t.accounts.countBorrow(e,a,o.borrowIndex),i=n,c=s.minus(i),r=o.totalBorrows.minus(i);t.accounts.setBorrow(e,a,c,o.borrowIndex),t.accounts.subBalance(e,a,i),o.totalBorrows=r,t._countWeights(),t._updateAccountsIndex()}else console.log("this token is not stable")})),Object(w["a"])(this,"liquidateStable",(function(e,a,n,o,s){if(-1!==t.config.stable.indexOf(a)){t._updateIndexesAll();var i=t._liquidateBorrowAllowed(e,a);if(i&&!i.eq(0)){var c=t._liquidateCalculateSeizeTokens(a,o,n),r=t.dynamicParams.penaltyCoefficient.times(c);if(t.accounts.getDeposit(e,o).share.lt(c.plus(r)))console.log("borrower not enough collateral");else if(t.accounts.get(s).balance[a]&&!t.accounts.get(s).balance[a].lt(n)){t.burn(e,a,n),t.accounts.addBalance(e,a,n);var l=t.redeem(e,o,c,0,!0);if(l.error)console.log(l.error);else{t.accounts.subBalance(e,l.name,l.value),t.accounts.subBalance(s,a,n),t.accounts.addBalance(s,l.name,l.value);var u=t.redeem(e,o,r,0,!0);u.error?console.log(u.error):(t.accounts.subBalance(e,u.name,u.value),t.reserves.get(u.name).totalReserves=t.reserves.get(u.name).totalReserves.plus(u.value),t._updateAccountsIndex())}}else console.log("payer not enough balance")}else console.log("liquidation not allowed")}else console.log("this token is not stable")})),Object(w["a"])(this,"getMaxMint",(function(e,a){if(-1!==t.config.stable.indexOf(a)){var n=t._checkBorrow(e,a,0),o=Object(g["a"])(n,1),s=o[0],i=t.reserves.get(a).price;return new y.a(s).div(i)}console.log("this token is not stable")})),Object(w["a"])(this,"tradePool",(function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(g["a"])(a,2),s=o[0],i=o[1],c=new y.a(i).div(100).times(t.fees.tradeFee),r=new y.a(i).minus(c),l=s.split("/")[0],u=s.split("/")[1],d=t._getOutAmount(r,l,u,s);if(i<=0)return console.log("Attempt to trade zero or negative value"),{value:0,name:u};var v={value:d,name:u};if(!n){if(t.reserves.get(u).value.lt(d))return console.log("Insufficient liquidity in the pool"),{value:0,name:u};if(!0!==t.accounts.subBalance(e,l,i))return console.log("Insifficient balance for trade"),{value:0,name:u};t.reserves.get(u).value=t.reserves.get(u).value.minus(d);var f=t._stabShare(c);t.reserves.get(l).value=t.reserves.get(l).value.plus(new y.a(i).sub(f)),t._addToStabFund(l,f),t.accounts.addBalance(e,v.name,v.value),t._countWeights(),t._balanceWeights(l,u),t.history.push([a,v])}return v})),Object(w["a"])(this,"sendWithConvert",(function(e,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=Object(g["a"])(n,2),i=s[0],c=s[1],r=new y.a(c).div(100).times(t.fees.tradeFee),l=new y.a(c).minus(r),u=i.split("/")[0],d=i.split("/")[1],v=t._getOutAmount(l,u,d,i);if(c<=0)return console.log("Attempt to trade zero or negative value"),{value:0,name:d};var f={value:v,name:d};if(!o){if(t.reserves.get(d).value.lt(v))return console.log("Insufficient liquidity in the pool"),{value:0,name:d};if(!0!==t.accounts.subBalance(e,u,c))return console.log("Insifficient balance for trade"),{value:0,name:d};t.reserves.get(d).value=t.reserves.get(d).value.minus(v);var m=t._stabShare(r);new y.a(r).sub(m);t.reserves.get(u).staked=t.reserves.get(u).staked.minus(r),t.reserves.get(d).staked=t.reserves.get(d).staked.plus(r),t.reserves.get(u).value=t.reserves.get(u).value.plus(new y.a(c).sub(m)),t._addToStabFund(u,m),t.accounts.addBalance(a,f.name,f.value),t._countWeights(),t._balanceWeights(u,d),t.history.push([n,f])}return f})),Object(w["a"])(this,"repay",(function(e,a,n){t._updateIndexes(a);var o=t.reserves.get(a),s=t.accounts.countBorrow(e,a,o.borrowIndex),i=n,c=s.minus(i),r=o.totalBorrows.minus(i);t.accounts.setBorrow(e,a,c,o.borrowIndex),t.accounts.subBalance(e,a,i),o.value=o.value.plus(i),o.totalBorrows=r})),Object(w["a"])(this,"liquidate",(function(e,a,n,o,s){t._updateIndexesAll();var i=t._liquidateBorrowAllowed(e,a);if(i){var c=t._liquidateCalculateSeizeTokens(a,o,n);if(t.accounts.getDeposit(e,o).share.lt(c))console.log("borrower not enough collateral");else if(t.accounts.get(s).balance[a]&&!t.accounts.get(s).balance[a].lt(n)){t.repay(e,a,n),t.accounts.addBalance(e,a,n);var r=t.redeem(e,o,c,0,!0);r.error?console.log(r.error):(t.accounts.subBalance(e,r.name,r.value),t.accounts.subBalance(s,a,n),t.accounts.addBalance(s,r.name,r.value),t._updateAccountsIndex())}else console.log("payer not enough balance")}else console.log("liquidation not allowed")})),Object(w["a"])(this,"getMaxBorrow",(function(e,a){var n=t._checkBorrow(e,a,0,0),o=Object(g["a"])(n,1),s=o[0],i=t.reserves.get(a).price;return s.div(i)})),Object(w["a"])(this,"_liquidateCalculateSeizeTokens",(function(e,a,n){var o=t.reserves.get(e).price,s=t.reserves.get(a).price,i=t._getExchangeRate(a),c=new y.a(t.config.liquidationIncentive).times(o),r=new y.a(s).times(i),l=c.div(r);return l.times(n).abs()})),Object(w["a"])(this,"_getOutAmount",(function(e,a,n){var o,s=t.reserves.getValueWithBorrows(a).times(100),i=t.reserves.get(a).weight,c=t.reserves.get(n).weight,r=t.reserves.getValueWithBorrows(n).times(100),l=s.div(s.plus(e)).pow(i.div(c)),u=new y.a(1).minus(l);return o=r.times(u),o})),Object(w["a"])(this,"_getInAmount",(function(e,a,n){var o,s=t.reserves.getValueWithBorrows(a),i=t.reserves.get(a).weight,c=t.reserves.get(n).weight,r=t.reserves.getValueWithBorrows(n),l=r.div(r.minus(e)).pow(c.div(i));return o=l.minus(1).times(s),o})),Object(w["a"])(this,"_getSpotPrice",(function(e,a){var n=t.reserves.getValueWithBorrows(e).div(t.reserves.get(e).weight),o=t.reserves.getValueWithBorrows(a).div(t.reserves.get(a).weight),s=new y.a(1).div(new y.a(1).minus(t.fees.tradeFee.div(100)));return n.div(o).mul(s)})),Object(w["a"])(this,"_stabShare",(function(e){return e.mul(t.dynamicParams.stabPercentage).div(100)})),Object(w["a"])(this,"setPrices",(function(e){var a=t._getTokens();a.forEach((function(a){if(!e[a])throw{error:"Has no price for ".concat(a," token!")};t.reserves.setPrice(a,e[a])})),t._countWeights()})),Object(w["a"])(this,"_getTokens",(function(){return t.config.tokens.concat(t.config.stable)})),Object(w["a"])(this,"_addToStabFund",(function(e,a){t.stabFund[e]&&t.stabFund[e].value?t.stabFund[e].value=t.stabFund[e].value.plus(a):t.stabFund[e]={value:new y.a(a)}})),Object(w["a"])(this,"_addAccountDeposit",(function(e,a,n){var o=t.reserves.getValueWithBorrows(a),s=t.reserves.get(a).price,i=t._countShareToken(a,n,o);return t.accounts.addDeposit(e,a,n,i,s),t.reserves.addValue(a,n),i})),Object(w["a"])(this,"_removeAccountDeposit",(function(e,a,n,o){var s=t.reserves.get(a).price;t.accounts.removeDeposit(e,a,n,o,s),t.reserves.get(a).value=t.reserves.get(a).value.minus(n),t.sTokens[a]=t.sTokens[a].minus(o)})),Object(w["a"])(this,"_liquidateShareAmount",(function(e,a){var n=new y.a(e).times(t.reserves.getValueWithBorrows(a)).div(t.sTokens[a]);return{value:n,name:a}})),Object(w["a"])(this,"_countShareToken",(function(e,a,n){var o=0;return t.sTokens[e]?(o=new y.a(a).div(n).times(t.sTokens[e]),t.sTokens[e]=t.sTokens[e].plus(o)):(o=new y.a(a).sqrt(),t.sTokens[e]=o),o})),Object(w["a"])(this,"_countWeights",(function(){var e=t._getTokens();if(e.length){t._countCapital();var a=t.reserves.getFullCapital();e.forEach((function(e){t.reserves.get(e).weight=t.reserves.get(e).capital.times(100).div(a)}))}})),Object(w["a"])(this,"_balanceWeights",(function(e,a){var n=t.reserves.get(e),o=t.reserves.get(a),s=n.weight.plus(o.weight),i=n.value.div(n.staked).ln();if(!0!==i.abs().lt(.001)){var c=n.price.div(o.price),r=n.staked.div(o.value).mul(c).mul(i),l=(void 0)(r),u=new y.a(l).div(i),d=y.a.div(u,u.plus(1)).mul(s),v=y.a.div(1,u.plus(1)).mul(s);n.weight=d,o.weight=v}})),Object(w["a"])(this,"_countCapital",(function(){var e=t._getTokens();e.forEach((function(e){t.reserves.get(e).capital=t.reserves.getValueWithBorrows(e).times(t.reserves.get(e).price)}))})),Object(w["a"])(this,"getLiqudationMax",(function(e,a){return t._liquidateBorrowAllowed(e,a)})),Object(w["a"])(this,"_liquidateBorrowAllowed",(function(e,a){var n=t._checkBorrow(e,a,0),o=Object(g["a"])(n,2),s=(o[0],o[1]);if(0===s)return new y.a(0);var i=t.accounts.countBorrow(e,a,t.reserves.get(a).borrowIndex);return new y.a(t.dynamicParams.closeFactor).times(i)})),Object(w["a"])(this,"_getExchangeRate",(function(e){var a=t.reserves.get(e);return t.sTokens[e]?a.value.plus(a.totalBorrows).div(t.sTokens[e]):new y.a(0)})),Object(w["a"])(this,"_checkBorrow",(function(e,a,n){var o=t.accounts.get(e),s=t.collateralFactor;t._updateIndexes(a);var i=t._getTokens().map((function(i){var c=o.deposits[i]?o.deposits[i].share:new y.a(0),r=t.accounts.countBorrow(e,i,t.reserves.get(i).borrowIndex),l=t.reserves.get(i).price,u=t._getExchangeRate(i),d=new y.a(s).times(u).times(l),v=c.times(d).abs(),f=i===a?r.plus(n).times(l).abs():r.times(l).abs();return[v,f]})).reduce((function(e,t){return[e[0].plus(t[0]),e[1].plus(t[1])]}),[new y.a(0),new y.a(0)]),c=Object(g["a"])(i,2),r=c[0],l=c[1];return o.sumCollateral=r,o.sumBorrowPlusEffects=l,r.gt(l)?[r.minus(l),0]:[0,l.minus(r)]})),Object(w["a"])(this,"_updateIndexesAll",(function(){t._getTokens().forEach((function(e){return t._updateIndexes(e)}))})),Object(w["a"])(this,"_updateAccountsIndex",(function(){Object.keys(t.accounts.all()).forEach((function(e){t._getTokens().forEach((function(a){t._checkBorrow(e,a,0)}))}))})),Object(w["a"])(this,"_updateIndexes",(function(e){var a=t.reserves.get(e),n=new y.a(t.day),o=a.prevDay;if(n===o)return 0;var s=a.value,i=a.totalBorrows,c=a.totalReserves;a.utilizationRate=t._utilizationRate(s,i,c);var r=a.borrowIndex,l=t._getBorrowRate(s,i,c);a.borrowRate=l.times(j),a.supplyRate=t._getSupplyRate(s,i,c).times(j);var u=n.minus(o),d=l.times(u),v=d.times(i),f=v.plus(i),m=t.reserveFactor.times(v).plus(c),p=d.times(r).plus(r);a.prevDay=n,a.borrowIndex=p,a.totalBorrows=f,a.totalReserves=m})),Object(w["a"])(this,"_utilizationRate",(function(e,t,a){return!t||t.eq(0)?new y.a(0):t.div(e.plus(t).minus(a))})),Object(w["a"])(this,"_getBorrowRate",(function(e,a,n){var o=t._utilizationRate(e,a,n);return o.times(t.dayMultiplier).plus(t.dayRate)})),Object(w["a"])(this,"_getSupplyRate",(function(e,a,n){var o=new y.a(1).minus(t.config.reserveFactor),s=t._getBorrowRate(e,a,n),i=s.times(o);return t._utilizationRate(e,a,n).times(i)})),Object(w["a"])(this,"_setParameters",(function(e){Object.assign(t.dynamicParams,e)})),Object(w["a"])(this,"_getPrices",(function(){var e,a=t._getTokens().filter((function(e){return-1===e.indexOf("s")})),n=(a.reduce((function(e,a,n){return Object(f["a"])(Object(f["a"])({},e),{},Object(w["a"])({},a,t.reserves.get(a).price))}),{}),{}),o=Object(h["a"])(a);try{for(o.s();!(e=o.n()).done;){var s=e.value;n[s]||(n[s]={});var i,c=Object(h["a"])(a);try{for(c.s();!(i=c.n()).done;){var r=i.value;s!==r&&(n[s][r]=t.tradePool(1,[r+"/"+s,1],1).value.div(1).toFixed(4))}}catch(l){c.e(l)}finally{c.f()}}}catch(l){o.e(l)}finally{o.f()}return n}))},M=B,D=(a("a630"),a("3ca3"),function e(){var t=this;Object(k["a"])(this,e),Object(w["a"])(this,"init",(function(e){t.tokens=Array.from(e.tokens),t.prices=Object.assign({},e.prices)})),Object(w["a"])(this,"getNewPrices",(function(){return t.tokens.forEach((function(e){t.prices[e]=new y.a(t.prices[e]).mul(t.rand_normal().plus(1))})),t.prices})),Object(w["a"])(this,"rand_normal",(function(){for(var e=new y.a(0),t=6,a=0;a<t;a+=1)e=e.plus(Math.random()).minus(.5);return e.div(t).div(4)}))}),T=D,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v(e._s(e.title))]),e._l(e.form,(function(t){return a("b-field",{key:t.name,attrs:{label:t.name+":",horizontal:""}},[a("div",{staticClass:"is-flex is-align-items-center"},[t.options?a("v-select",{staticClass:"is-flex-grow-2",attrs:{multiple:"",options:t.options},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):t.exstraOption?a("div"):a("b-input",{staticClass:"is-flex-grow-2",model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),t.tooltip?a("b-tooltip",{staticClass:"control ml-2",attrs:{label:t.tooltip,multilined:""}},[a("b-icon",{attrs:{icon:"help-circle-outline"}})],1):e._e()],1)])}))],2)},R=[],S={props:["title","form"]},z=S,A=Object(i["a"])(z,q,R,!1,null,null,null),E=A.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h2",{staticClass:"is-size-4 mb-3"},[e._v(e._s(e.title))]),a("div",{staticClass:"accountsFrom__scroll"}),e._l(e.accountsChecked,(function(t,n){return a("div",{key:n,staticClass:"mb-4",attrs:{grouped:"","group-multiline":""}},[a("div",[a("span",[e._v("№"+e._s(n+1)+" Balance:")]),a("b-button",{staticClass:"ml-3",attrs:{size:"is-small","icon-left":"border-color"},on:{click:function(t){return e.openEditModal(n)}}})],1),a("div",{staticClass:"is-flex is-flex-wrap-wrap"},e._l(t,(function(t){return a("div",{key:t.name,staticClass:"control mr-4"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[e._v(e._s(t.name))]),a("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[e._v(e._s(t.value))])],1)],1)})),0)])})),a("b-button",{attrs:{type:"is-primary"},on:{click:function(t){return e.openEditModal(-1)}}},[e._v("add account")]),a("b-modal",{attrs:{width:440},model:{value:e.accountModal,callback:function(t){e.accountModal=t},expression:"accountModal"}},[e.accountModal?a("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[a("section",{staticClass:"modal-card-body"},[a("cmp-account-form",{attrs:{title:"test",i:e.currentAccountindex}})],1)]):e._e()])],2)},P=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[e.i<0?a("h2",{staticClass:"is-size-4 mb-3"},[e._v("new account")]):a("h2",{staticClass:"is-size-4 mb-3"},[e._v(" account "+e._s(e.i+1))]),e._l(e.currentAccount,(function(t){return a("div",{key:t.name,staticClass:"is-flex is-align-items-center mb-4"},[a("b-checkbox",{staticClass:"is-flex-grow-0",model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.name+":")+" ")]),a("b-input",{staticClass:"is-flex-grow-2",model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),t.tooltip?a("b-tooltip",{staticClass:"control ml-2",attrs:{label:t.tooltip,multilined:""}},[a("b-icon",{attrs:{icon:"help-circle-outline"}})],1):e._e()],1)})),e.i<0?a("b-button",{attrs:{type:"is-primary"},on:{click:function(t){e.saveItem({data:e.currentAccount}),e.$parent.close()}}},[e._v(" Create account ")]):[a("b-button",{attrs:{type:"is-primary"},on:{click:function(t){e.saveItem({data:e.currentAccount,i:e.i}),e.$parent.close()}}},[e._v(" Save account ")])]],2)},W=[],H={props:["title","i"],methods:Object(f["a"])({},Object(m["b"])("accounts",["saveItem","deleteItem"])),data:function(){return{currentAccount:[{name:"",value:0,checked:!1}],defaultAccount:[{name:"BTC",value:100,checked:!1},{name:"ETH",value:100,checked:!1},{name:"USDT",value:100,checked:!1},{name:"EOS",value:100,checked:!1},{name:"sUSD",value:100,checked:!1}]}},computed:Object(f["a"])({},Object(m["d"])("accounts",{accounts:"items"})),created:function(){console.log("created",this.i),this.i<0?this.currentAccount=this.defaultAccount.map((function(e){return e})):this.currentAccount=this.accounts[this.i].map((function(e){return e}))}},U=H,V=Object(i["a"])(U,$,W,!1,null,null,null),L=V.exports,N={props:{title:{default:""},tokenOptions:{default:[]}},components:{"cmp-account-form":L},data:function(){return{accountModal:!1,currentAccount:{},currentAccountindex:-1}},computed:Object(f["a"])({},Object(m["c"])("accounts",{accountsChecked:"itemsChecked"})),methods:{openEditModal:function(e){this.accountModal=!0,this.currentAccountindex=e}}},K=N,X=(a("44dc"),Object(i["a"])(K,F,P,!1,null,null,null)),J=X.exports,G=new M,Q=new T;console.log();var Y={name:"Home",components:{"cmp-form":E,"cmp-accounts-form":J},data:function(){return{tokenModal:!1,priceModal:!1,createDepositModal:!1,createDepositInfo:{account:0,value:0,token:""},returnDepositModal:!1,returnDepositInfo:{account:0,value:0,token:"",options:[]},borrowModal:!1,borrowInfo:{account:0,value:0,token:"",options:b.tokens,maxBorrow:0},mintModal:!1,mintInfo:{account:0,value:0,token:"",options:b.stable,maxMint:0},tradeModal:!1,tradeInfo:{account:0,value:0,token:"",token2:"",options:b.tokens,maxMint:0},repayModal:!1,repayInfo:{account:0,value:0,getValue:0,borrows:[],token:"",depositsToken:"",sumCollateral:0,sumBorrowPlusEffects:0},liquidateModal:!1,liquidateInfo:{account:0,account2:0,value:0,maxLiquidate:0,options:b.tokens,borrows:0,token:"",token2:""},form1:[{name:"tokens",value:b.tokens,options:b.tokens,tooltip:"Изменить список токенов в пуле"},{name:"stable",value:b.stable,options:b.stable,tooltip:"Изменить список стейбл коинов в пуле"},{name:"tradeFee",value:b.tradeFee},{name:"baseRate",value:b.baseRate},{name:"reserveFactor",value:b.reserveFactor},{name:"collateralFactor",value:b.collateralFactor},{name:"closeFactor",value:b.closeFactor},{name:"liquidationIncentive",value:b.liquidationIncentive},{name:"penaltyCoefficient",value:b.penaltyCoefficient}],table:[],columns:[{field:"name",label:"name"},{field:"value",label:"value"},{field:"totalBorrows",label:"totalBorrows"},{field:"borrowIndex",label:"borrowIndex"},{field:"totalReserves",label:"totalReserves"},{field:"price",label:"price"},{field:"capital",label:"capital"},{field:"weight",label:"weight"},{field:"staked",label:"staked"},{field:"prevDay",label:"prevDay"}],credit:[{name:"tokens loan",value:[],options:["BTC","ETH","USDT","EOS","NEO","MKR","XRP"],tooltip:"Просмотреть и изменить\n            список монет, которые \n            принимаются в качестве \n            депозита под обеспечение \n            займа"},{name:"tokens dep",value:[],options:["BTC","ETH","USDT","EOS","NEO","MKR","XRP"],tooltip:"Просмотреть и изменить\n            список монет которые\n            принимаются в качестве \n            депозита под обеспечение \n            займа"},{name:"minimum ratio:",value:""},{name:"liquidation penalty",value:""},{name:"stability fee",value:""},{name:"кол-во займов",value:""},{name:"процент возврата",value:""}],bargaining:[{name:"tokens",value:[],options:["BTC","ETH","USDT","EOS","NEO","MKR","XRP"],tooltip:"Просмотреть и изменить\n            список монет которые\n            могут участвовать в \n            торгах"},{name:"fee",value:""},{name:"baseRate",value:""},{name:"кол-во торгов",value:""}],prices:[{name:"BTC",value:10500},{name:"ETH",value:350},{name:"USDT",value:1},{name:"EOS",value:2},{name:"sUSD",value:1}],history:[]}},computed:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(m["d"])("accounts",{accounts:"items"})),Object(m["c"])("accounts",{accountsChecked:"itemsChecked"})),{},{pricesFormat:function(){var e={};return this.prices.forEach((function(t){e[t.name]=t.value})),e},config:function(){var e={};return this.form1.forEach((function(t){e[t.name]=t.value})),console.log("config 1 ",e),e}}),watch:{accountsChecked:function(){this.AccountUpdate()},config:function(e){G.createPool(e),Q.init(e)},pricesFormat:function(){this.updateResults()},history:function(){this.$refs.history.scrollTo({top:this.$refs.history.scrollHeight,behavior:"smooth"})},returnDepositModal:function(e){e&&this.setReturnOptionToDeposit(this.returnDeposit.account)},borrowModal:function(e){e&&this.setReturnOptionToBorrow(this.borrowInfo.account,this.borrowInfo.token)},mintModal:function(e){e&&this.setMaxToMint(this.mintInfo.account,this.mintInfo.token)},repayModal:function(e){e&&this.setRepayAccountInfo(this.repayInfo.account)},liquidateModal:function(e){e&&this.setMaxLiquidate(this.liquidateInfo.account,this.liquidateInfo.token)}},methods:{Create:function(){Q.init(b),G.createPool(b),this.AccountUpdate()},AccountUpdate:function(){console.log(this.accountsChecked),this.accountsChecked.forEach((function(e,t){var a={};e.forEach((function(e){a[e.name]=e.value})),G.accounts.issueBalance(t,a),console.log(G.accounts.get(t))})),this.updateResults()},nextTick:function(){G.tick(1),this.updateResults(),this.history.push("pool tick")},createDeposit:function(e){G.deposit(e.account,{name:e.token,value:e.value}),this.updateResults(),this.history.push("создан депозит для аккаунта №".concat(e.account+1," на сумму ").concat(e.token," ").concat(e.value))},setReturnOptionToDeposit:function(e){var t=G.accounts.get(e).balance,a=[];for(var n in t)a.push({name:n,value:t[n].toString()});this.$set(this.returnDepositInfo,"options",a)},returnDeposit:function(e){G.redeem(e.account,{name:e.token,value:e.value}),this.updateResults(),this.history.push("возврат депозита для аккаунта №".concat(e.account+1," на сумму ").concat(e.token," ").concat(e.value))},updateResults:function(){this.table=[];var e=G.getInfo(this.pricesFormat).reserves;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a={};for(var n in a.name=t,e[t])Object.prototype.hasOwnProperty.call(e,t)&&(a[n]=e[t][n].toString());this.table.push(a)}console.log(this.table)},setReturnOptionToBorrow:function(e,t){console.log("getMaxBorrow",G.getMaxBorrow(e,t)),this.borrowInfo.maxBorrow=G.getMaxBorrow(e,t)},borrow:function(e){G.borrow(e.account,{name:e.token,borrowAmount:e.value}),this.updateResults(),this.history.push("аккаунт №".concat(e.account+1," взял займ на сумму ").concat(e.token," ").concat(e.value))},repay:function(e){G.repay(e.account,e.token,e.value),this.updateResults(),this.history.push("аккаунт №".concat(e.account+1," вернул займ на сумму ").concat(e.token," ").concat(e.value))},setRepayAccountInfo:function(e){var t=G.getInfo(this.pricesFormat).accounts[e];for(var a in console.log(t.borrows),this.repayInfo.borrows=[],t.borrows)Object.prototype.hasOwnProperty.call(t.borrows,a)&&this.repayInfo.borrows.push({name:a,value:t.borrows[a].value?t.borrows[a].value.toString():""})},setMaxLiquidate:function(e,t){this.liquidateInfo.maxLiquidate=G.getLiqudationMax(e,t)},liquidate:function(e){G.liquidate(e.account,e.token,e.value,e.token2,e.account2),this.updateResults(),this.history.push("аккаунт №".concat(e.account2+1," ликвидировал займ ").concat(e.token2," на сумму ").concat(e.token," ").concat(e.value," аккаунту №").concat(e.account+1,"  "))},setMaxToMint:function(e,t){this.mintInfo.maxMint=G.getMaxMint(e,t)},mint:function(e){G.mint(e.account,{name:e.token,borrowAmount:e.value}),this.history.push("аккаунт №".concat(e.account+1," выпустил стейбл коины на сумму ").concat(e.token," ").concat(e.value))},trade:function(e){console.log(e.account,["".concat(e.token,"/").concat(e.token2),parseFloat(e.value)]);var t=G.tradePool(e.account,["".concat(e.token,"/").concat(e.token2),parseFloat(e.value)]);console.log(t),this.$buefy.toast.open("вы получили ".concat(t.name," ").concat(t.value)),this.history.push("аккаунт №".concat(e.account+1," обменял ").concat(e.token," / ").concat(e.token2," на сумму ").concat(e.value," (получил ").concat(t.name," ").concat(t.value,")"))}},created:function(){this.Create()}},Z=Y,ee=(a("3654"),Object(i["a"])(Z,d,v,!1,null,null,null)),te=ee.exports;n["a"].use(u["a"]);var ae=[{path:"/",name:"Home",component:te}],ne=new u["a"]({routes:ae}),oe=ne,se=(a("a434"),{namespaced:!0,state:{items:[[{name:"BTC",value:100,checked:!1},{name:"ETH",value:100,checked:!0},{name:"USDT",value:100,checked:!0},{name:"EOS",value:100,checked:!1},{name:"sUSD",value:100,checked:!1}]]},getters:{itemsChecked:function(e){return e.items.map((function(e){return e.filter((function(e){return e.checked}))}))}},mutations:{createItem:function(e,t){e.items.push(t)},editItem:function(e,t){var a=t.i;console.log(a),e.items.splice(a,1,t.data)},deleteItem:function(e,t){e.items.splice(t,1)}},actions:{saveItem:function(e,t){var a=e.commit;console.log(t),void 0!=t.i?(console.log("editItem",t.i),a("editItem",t)):(console.log("createItem"),a("createItem",t.data))},deleteItem:function(e,t){var a=e.commit;a("deleteItem",t)}}});n["a"].use(m["a"]);var ie=new m["a"].Store({state:{},mutations:{},actions:{},modules:{accounts:se}}),ce=a("289d"),re=(a("5abe"),a("4a7a")),le=a.n(re);n["a"].use(ce["a"]),n["a"].component("v-select",le.a),n["a"].config.productionTip=!1,new n["a"]({router:oe,store:ie,render:function(e){return e(l)}}).$mount("#app")},caba:function(e,t,a){},db62:function(e,t,a){}});
//# sourceMappingURL=app.47729b77.js.map