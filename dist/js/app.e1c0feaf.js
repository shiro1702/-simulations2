(function(t){function e(e){for(var a,i,c=e[0],r=e[1],l=e[2],d=0,_=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&_.push(n[i][0]),n[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(_.length)_.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,c=1;c<o.length;c++){var r=o[c];0!==n[r]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/-simulations2/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},1960:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",{staticClass:"is-size-4 mb-3"},[t._v(t._s(t.title)+" ("),o("b-tooltip",{attrs:{label:t.accountAllSumm.toString(),position:"is-bottom"}},[o("b-taglist",{attrs:{attached:""}},[t._v(" "+t._s(t.accountAllSumm.toString().split(".")[0])+t._s(t.accountAllSumm.toString().split(".")[1]?"."+t.accountAllSumm.toString().split(".")[1].slice(0,4):"")+" ")])],1),t._v(" USD) ")],1),o("div",{staticClass:"accountsFrom__scroll"},t._l(t.poolAccounts,(function(e,a){return o("div",{key:"poolAccounts"+a,staticClass:"mb-4",attrs:{grouped:"","group-multiline":""}},[o("div",{staticClass:"mb-2"},[o("span",[t._v("№"+t._s(1+parseInt(a))+" Balance: "),o("b",[o("b-tooltip",{attrs:{label:t.accountSumm[a].toString(),position:"is-bottom"}},[o("b-taglist",{attrs:{attached:""}},[t._v(" "+t._s(t.accountSumm[a].toString().split(".")[0])+t._s(t.accountSumm[a].toString().split(".")[1]?"."+t.accountSumm[a].toString().split(".")[1].slice(0,4):"")+" ")])],1)],1),t._v(" USD ")]),o("b-button",{staticClass:"ml-3",attrs:{size:"is-small","icon-left":"plus"},on:{click:function(e){return t.openEditModal(a)}}})],1),o("div",{staticClass:"is-flex is-flex-wrap-wrap"},t._l(e.balance,(function(e,n){return o("div",{key:"balance"+a+n,staticClass:"control mr-3 mb-3"},[o("b-tooltip",{attrs:{label:e.toString(),position:"is-bottom"}},[o("b-taglist",{attrs:{attached:""}},[o("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[t._v(t._s(n))]),o("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[t._v(t._s(e.toString().split(".")[0])+t._s(e.toString().split(".")[1]?"."+e.toString().split(".")[1].slice(0,4):""))])],1)],1)],1)})),0)])})),0),o("b-button",{attrs:{type:"is-primary"},on:{click:function(e){return t.openEditModal(-1)}}},[t._v("add account")]),o("b-modal",{attrs:{width:440},model:{value:t.accountModal,callback:function(e){t.accountModal=e},expression:"accountModal"}},[t.accountModal?o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("cmp-account-form",{attrs:{title:"test",i:t.currentAccountindex,pricesFormat:t.pricesFormat}})],1)]):t._e()])],1)},n=[],s=o("5530"),i=o("2f62"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{},[t.i<0?o("h2",{staticClass:"is-size-4 mb-3"},[t._v("new account")]):o("h2",{staticClass:"is-size-4 mb-3"},[t._v(" account "+t._s(t.i+1))]),t._l(t.currentAccount,(function(e){return o("div",{key:e.name,staticClass:"is-flex is-align-items-center mb-4"},[o("b-checkbox",{staticClass:"is-flex-grow-0",model:{value:e.checked,callback:function(o){t.$set(e,"checked",o)},expression:"item.checked"}},[t._v(" "+t._s(e.name+":")+" ")]),o("b-input",{staticClass:"is-flex-grow-2",model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"item.value"}}),e.tooltip?o("b-tooltip",{staticClass:"control ml-2",attrs:{label:e.tooltip,multilined:""}},[o("b-icon",{attrs:{icon:"help-circle-outline"}})],1):t._e()],1)})),t.i<0?o("b-button",{attrs:{type:"is-primary"},on:{click:function(e){t.addBalanceToAccount({data:t.currentAccountFormat,pricesFormat:t.pricesFormat}),t.$parent.close()}}},[t._v(" Create account ")]):[o("b-button",{attrs:{type:"is-primary"},on:{click:function(e){t.addBalanceToAccount({data:t.currentAccountFormat,pricesFormat:t.pricesFormat,i:t.i}),t.$parent.close()}}},[t._v(" Add coins ")])]],2)},r=[],l=(o("4160"),o("d81d"),o("b0c0"),o("d3b7"),o("25f0"),o("159b"),{props:["title","i","pricesFormat"],data:function(){return{currentAccount:[{name:"",value:0,checked:!1}]}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])("accounts",{accounts:"items",poolAccounts:"poolAccounts"})),Object(i["e"])("prices",["pricesOptionsChecked"])),{},{currentAccountFormat:function(){var t={};return this.currentAccount.forEach((function(e){e.checked&&(t[e.name]=e.value)})),t},defaultAccount:function(){return console.log(this.pricesOptionsChecked),this.pricesOptionsChecked.map((function(t){return{name:t,value:100,checked:!1}}))}}),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])("accounts",["addBalanceToAccount"])),{},{unformat:function(t){var e=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.push({name:o,value:t[o].toString(),checked:!0});return e}}),created:function(){this.currentAccount=this.defaultAccount.map((function(t){return t}))}}),u=l,d=o("2877"),_=Object(d["a"])(u,c,r,!1,null,null,null),p=_.exports,f={props:{title:{default:""},tokenOptions:{default:[]},pricesFormat:{default:{}}},components:{"cmp-account-form":p},data:function(){return{accountModal:!1,currentAccount:{},currentAccountindex:-1}},computed:Object(s["a"])(Object(s["a"])({},Object(i["e"])("accounts",["poolAccounts"])),Object(i["c"])("accounts",{accountsChecked:"itemsChecked",accountSumm:"accountSumm",accountAllSumm:"accountAllSumm"})),methods:{openEditModal:function(t){this.accountModal=!0,this.currentAccountindex=t}}},b=f,m=(o("44dc"),Object(d["a"])(b,a,n,!1,null,null,null));e["a"]=m.exports},2278:function(t,e,o){},3654:function(t,e,o){"use strict";o("caba")},"44dc":function(t,e,o){"use strict";o("2278")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",attrs:{id:"app"}},[o("router-view")],1)},s=[],i=(o("cf25"),o("2877")),c={},r=Object(i["a"])(c,n,s,!1,null,null,null),l=r.exports,u=o("8c4f"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home py-6"},[o("div",{staticClass:"columns fullHeight"},[o("div",{staticClass:"column"},[o("cmp-form",{attrs:{form:t.form1,title:"Пул"},scopedSlots:t._u([{key:"header",fn:function(){return[o("b-field",{attrs:{label:"tokens:",horizontal:""}},[o("div",{staticClass:"is-flex is-align-items-center"},[o("v-select",{staticClass:"is-flex-grow-2",attrs:{multiple:"",options:t.pricesOptions},model:{value:t.pricesValue,callback:function(e){t.pricesValue=e},expression:"pricesValue"}}),o("b-tooltip",{staticClass:"control ml-2",attrs:{label:"Изменить список токенов в пуле",multilined:""}},[o("b-icon",{attrs:{icon:"help-circle-outline"}})],1)],1)]),o("b-field",{attrs:{label:"stable:",horizontal:""}},[o("div",{staticClass:"is-flex is-align-items-center"},[o("v-select",{staticClass:"is-flex-grow-2",attrs:{multiple:"",options:t.stable},model:{value:t.stableValue,callback:function(e){t.stableValue=e},expression:"stableValue"}}),o("b-tooltip",{staticClass:"control ml-2",attrs:{label:"Изменить список стейбл коинов в пуле",multilined:""}},[o("b-icon",{attrs:{icon:"help-circle-outline"}})],1)],1)])]},proxy:!0}])}),o("b-field",{attrs:{label:"prices:",grouped:"","group-multiline":""}},[t._l(t.poolPrices,(function(e){return o("div",{key:e.name,staticClass:"control"},[o("b-taglist",{attrs:{attached:""}},[o("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[t._v(t._s(e.name))]),o("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[t._v(t._s(e.value))])],1)],1)})),o("b-button",{attrs:{type:"is-primary",outlined:"",size:"is-small","icon-left":"plus"},on:{click:function(e){t.addNewPriceModal=!0}}}),o("b-button",{staticClass:"ml-3",attrs:{type:"is-primary",size:"is-small","icon-left":"border-color"},on:{click:function(e){t.priceModal=!0}}})],2)],1),o("div",{staticClass:"column"},[o("cmp-accounts-form",{attrs:{tokenOptions:t.config.tokens.concat([t.config.stable]),pricesFormat:t.poolPricesFormat,title:"Аккаунты"}})],1),o("div",{staticClass:"column"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Операции")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-full"},[o("b-button",{attrs:{expanded:"",type:"is-primary"},on:{click:function(e){return t.simulation()}}},[t._v("Запуск симуляции")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:t.tickDisble},on:{click:function(e){return t.nextTick()}}},[t._v("Сделать шаг")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.createDepositModal=!0}}},[t._v("Сделать депозит")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.returnDepositModal=!0}}},[t._v("Вернуть депозит")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.mintModal=!0}}},[t._v("Выпуск стейбл")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.tradeModal=!0}}},[t._v("Обмен")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.borrowModal=!0}}},[t._v("Взять займ")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.repayModal=!0}}},[t._v("Вернуть займ ")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.liquidateModal=!0}}},[t._v("Ликвидация займа")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.repayStableModal=!0}}},[t._v("Вернуть стейбл коины ")])],1),o("div",{staticClass:"column is-half"},[o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:""},on:{click:function(e){t.liquidateStableModal=!0}}},[t._v("Ликвидация стейбл")])],1),t._l(t.currentPrices,(function(e,a){return o("b-field",{key:"currentPrices"+a,attrs:{label:a,grouped:"","group-multiline":""}},t._l(e,(function(e,n){return o("div",{key:"currentPrices"+a+n,staticClass:"control"},[o("b-taglist",{attrs:{attached:""}},[o("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[t._v(t._s(n))]),o("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[t._v(t._s(e))])],1)],1)})),0)}))],2)])]),o("div",{staticClass:"columns fullHeight"},[o("div",{staticClass:"column is-9",staticStyle:{overflow:"scroll"}},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Результат")]),o("b-table",{attrs:{data:this.table}},[o("b-table-column",{attrs:{field:"name",label:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),o("b-table-column",{attrs:{field:"value",label:"value"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.value)+" ")]}}])}),o("b-table-column",{attrs:{field:"totalBorrows",label:"totalBorrows"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.totalBorrows)+" ")]}}])}),o("b-table-column",{attrs:{field:"borrowIndex",label:"borrowIndex"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.borrowIndex)+" ")]}}])}),o("b-table-column",{attrs:{field:"totalReserves",label:"totalReserves"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.totalReserves)+" ")]}}])}),o("b-table-column",{attrs:{field:"price",label:"price"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.price)+" ")]}}])}),o("b-table-column",{attrs:{field:"capital",label:"capital"},scopedSlots:t._u([{key:"default",fn:function(e){return["summ"!=e.row.name?o("span",[t._v(" "+t._s(e.row.capital)+" ")]):o("b",[t._v(" "+t._s(e.row.capital)+" ")])]}}])}),o("b-table-column",{attrs:{field:"weight",label:"weight"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.weight)+" ")]}}])}),o("b-table-column",{attrs:{field:"staked",label:"staked"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.staked)+" ")]}}])}),o("b-table-column",{attrs:{field:"prevDay",label:"prevDay"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.prevDay)+" ")]}}])}),o("b-table-column",{attrs:{field:"utilizationRate",label:"utilizationRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.utilizationRate)+" ")]}}])}),o("b-table-column",{attrs:{field:"borrowRate",label:"borrowRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.borrowRate)+" ")]}}])})],1)],1),o("div",{staticClass:"column is-3"},[o("h2",{staticClass:"is-size-4 mb-3 "},[t._v("История")]),o("div",{ref:"history",staticClass:"history"},t._l(t.history,(function(e,a){return o("div",{key:a},[t._v(" "+t._s(a)+") "+t._s(e)+" ")])})),0)])]),o("b-modal",{attrs:{width:640},model:{value:t.tokenModal,callback:function(e){t.tokenModal=e},expression:"tokenModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"})])]),o("b-modal",{attrs:{width:440},model:{value:t.priceModal,callback:function(e){t.priceModal=e},expression:"priceModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("cmp-form",{attrs:{form:t.prices,title:"Prices"}}),o("b-button",{staticClass:"mt-4",attrs:{expanded:"",type:"is-primary",disabled:JSON.stringify(t.prices)==JSON.stringify(t.poolPrices)},on:{click:function(e){t.setPricesArray(t.prices),t.priceModal=!1}}},[t._v("Изменить")])],1)])]),o("b-modal",{attrs:{width:440},model:{value:t.addNewPriceModal,callback:function(e){t.addNewPriceModal=e},expression:"addNewPriceModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("cmp-form",{attrs:{form:t.newPrice,title:"new price"}}),o("b-checkbox",{staticClass:"mt-2",model:{value:t.checkboxNewPrice,callback:function(e){t.checkboxNewPrice=e},expression:"checkboxNewPrice"}},[t._v(" стейбл коин ")]),o("b-button",{staticClass:"mt-4",attrs:{expanded:"",type:"is-primary",disabled:this.newPriceBtnDis},on:{click:function(e){t.addNewPrice(t.newPrice),t.addNewPriceModal=!1}}},[t._v("Добавить")])],1)])]),o("b-modal",{attrs:{width:640},model:{value:t.createDepositModal,callback:function(e){t.createDepositModal=e},expression:"createDepositModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Сделать депозит")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setCreateDepositOptions(parseInt(a))}},model:{value:t.createDepositInfo.account,callback:function(e){t.$set(t.createDepositInfo,"account",e)},expression:"createDepositInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token")]),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"number",step:"any"},model:{value:t.createDepositInfo.value,callback:function(e){t.$set(t.createDepositInfo,"value",e)},expression:"createDepositInfo.value"}}),t.poolAccounts[t.createDepositInfo.account]?t._l(t.poolAccounts[t.createDepositInfo.account].balance,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token","native-value":a},nativeOn:{click:function(e){return t.setCreateDepositValue(a)}},model:{value:t.createDepositInfo.token,callback:function(e){t.$set(t.createDepositInfo,"token",e)},expression:"createDepositInfo.token"}},[t._v(" "+t._s(a)+" "),o("b-tooltip",{attrs:{label:e.toString(),position:"is-bottom"}},[t._v(" "+t._s(e.toString().split(".")[0])+t._s(e.toString().split(".")[1]?"."+e.toString().split(".")[1].slice(0,4):"")+" ")])],1)],1)})):t._e()],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("Внести "+t._s(t.createDepositInfo.tokenInput)),o("br"),t._v(" "+t._s(t.createDepositInfo.token)+" от аккаунта №"+t._s(t.createDepositInfo.account+1)+" в депозит")]),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:t.createDepositBtn},on:{click:function(e){t.createDeposit(t.createDepositInfo),t.createDepositModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:640},model:{value:t.returnDepositModal,callback:function(e){t.returnDepositModal=e},expression:"returnDepositModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Вернуть депозит")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setReturnOptionToDeposit(parseInt(a))}},model:{value:t.returnDepositInfo.account,callback:function(e){t.$set(t.returnDepositInfo,"account",e)},expression:"returnDepositInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("xToken")]),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"number",step:"any"},model:{value:t.returnDepositInfo.value,callback:function(e){t.$set(t.returnDepositInfo,"value",e)},expression:"returnDepositInfo.value"}}),t._l(t.returnDepositInfo.options,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token","native-value":e.name},model:{value:t.returnDepositInfo.token,callback:function(e){t.$set(t.returnDepositInfo,"token",e)},expression:"returnDepositInfo.token"}},[t._v(" "+t._s(e.name)+" "),o("b-tooltip",{attrs:{label:e.value.toString(),position:"is-bottom"}},[t._v(" "+t._s(e.value.toString().split(".")[0])+t._s(e.value.toString().split(".")[1]?"."+e.value.toString().split(".")[1].slice(0,4):"")+" ")])],1)],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("Вывести "+t._s(t.returnDepositInfo.tokenInput)),o("br"),t._v(" "+t._s(t.returnDepositInfo.token)+" от аккаунта №"+t._s(t.returnDepositInfo.account+1)+" на личный баланс")]),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:0==t.poolAccounts.length||"0"==t.returnDepositInfo.value||""==t.returnDepositInfo.value},on:{click:function(e){t.returnDeposit(t.returnDepositInfo),t.returnDepositModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:640},model:{value:t.borrowModal,callback:function(e){t.borrowModal=e},expression:"borrowModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Взять займ")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-4"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setReturnOptions(),t.setReturnMaxBorrow(parseInt(a),t.borrowInfo.token)}},model:{value:t.borrowInfo.account,callback:function(e){t.$set(t.borrowInfo,"account",e)},expression:"borrowInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-4"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("you get ( max - "),o("b-tooltip",{attrs:{label:t.borrowInfo.maxBorrow.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.borrowInfo.maxBorrow.toString().split(".")[0])+t._s(t.borrowInfo.maxBorrow.toString().split(".")[1]?"."+t.borrowInfo.maxBorrow.toString().split(".")[1].slice(0,4):"")+" ")]),t._v(") ")],1),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"number",step:"any"},model:{value:t.borrowInfo.value,callback:function(e){t.$set(t.borrowInfo,"value",e)},expression:"borrowInfo.value"}}),t._l(t.pricesValue,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token1","native-value":e},nativeOn:{click:function(o){return t.setReturnMaxBorrow(t.borrowInfo.account,e)}},model:{value:t.borrowInfo.token,callback:function(e){t.$set(t.borrowInfo,"token",e)},expression:"borrowInfo.token"}},[t._v(" "+t._s(e)+" ")])],1)}))],2),o("div",{staticClass:"column is-4"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("Обеспеченность займа: 200% ")]),o("h2",{staticClass:"is-size-6 mb-3"},[t._v("Занять "),o("br"),t._v(" "+t._s(t.borrowInfo.payValue)+" "+t._s(t.borrowInfo.token)+" "),o("br"),t._v(" аккаунту №"+t._s(t.borrowInfo.account+1))]),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:t.borrowBtn},on:{click:function(e){t.borrow(t.borrowInfo),t.borrowModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:640},model:{value:t.mintModal,callback:function(e){t.mintModal=e},expression:"mintModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Выпуск стейблкоинов")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setMaxToMint(parseInt(a),t.mintInfo.token),t.setMintOptions()}},model:{value:t.mintInfo.account,callback:function(e){t.$set(t.mintInfo,"account",e)},expression:"mintInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("you get (max - "),o("b-tooltip",{attrs:{label:t.mintInfo.maxMint.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.mintInfo.maxMint.toString().split(".")[0])+t._s(t.mintInfo.maxMint.toString().split(".")[1]?"."+t.mintInfo.maxMint.toString().split(".")[1].slice(0,4):"")+" ")]),t._v(")")],1),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"number",step:"any"},model:{value:t.mintInfo.value,callback:function(e){t.$set(t.mintInfo,"value",e)},expression:"mintInfo.value"}}),t._l(t.stableChecked,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token1","native-value":e},nativeOn:{click:function(o){return t.setMaxToMint(t.mintInfo.account,e)}},model:{value:t.mintInfo.token,callback:function(e){t.$set(t.mintInfo,"token",e)},expression:"mintInfo.token"}},[t._v(" "+t._s(e)+" ")])],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v(" Выпустить для аккаунта №"+t._s(t.mintInfo.account+1)+" "+t._s(t.mintInfo.token)+" "),o("b-tooltip",{attrs:{label:t.mintInfo.value.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.mintInfo.value.toString().split(".")[0])+t._s(t.mintInfo.value.toString().split(".")[1]?"."+t.mintInfo.value.toString().split(".")[1].slice(0,4):"")+" ")])],1),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:0==t.poolAccounts.length||""==t.mintInfo.value||0==parseFloat(t.mintInfo.value)||parseFloat(t.mintInfo.maxMint)<parseFloat(t.mintInfo.value)},on:{click:function(e){t.mint(t.mintInfo),t.mintModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:540},model:{value:t.tradeModal,callback:function(e){t.tradeModal=e},expression:"tradeModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Обмен")]),o("div",{staticClass:"is-flex is-flex-direction-column is-align-items-center"},[o("b-field",{staticClass:"w-100",attrs:{label:"Выберите аккаунт"}},[o("v-select",{attrs:{options:t.poolAccounts.map((function(t,e){return e+1})),reduce:function(t){return t-1}},on:{input:t.setTradeInfoSelected},model:{value:t.tradeInfo.account,callback:function(e){t.$set(t.tradeInfo,"account",e)},expression:"tradeInfo.account"}})],1),o("b-field",{staticClass:"w-100 field_bodered",attrs:{label:"from"}},[o("div",{staticClass:"is-flex is-justify-content-space-between"},[o("b-input",{staticClass:"w-50",attrs:{type:"number",step:"any"},on:{input:function(e){return t.setTradeResult(t.tradeInfo.account,t.tradeInfo.token,t.tradeInfo.token2,e)}},model:{value:t.tradeInfo.value,callback:function(e){t.$set(t.tradeInfo,"value",e)},expression:"tradeInfo.value"}}),t.poolAccounts[t.tradeInfo.account]?[o("v-select",{staticClass:"w-50 a-select",attrs:{options:Object.keys(t.poolAccounts[t.tradeInfo.account].balance).filter((function(e){return t.pricesOptionsChecked.includes(e)})).map((function(e){return{name:e,value:t.poolAccounts[t.tradeInfo.account].balance[e]}})),reduce:function(t){return t.name},label:"name"},on:{input:t.setTradeInfoSelectToken},scopedSlots:t._u([{key:"search",fn:function(e){var a=e.attributes,n=e.events;return[o("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.selected}},"input",a,!1),n))]}}],null,!1,3037082462),model:{value:t.tradeInfo.token,callback:function(e){t.$set(t.tradeInfo,"token",e)},expression:"tradeInfo.token"}})]:t._e()],2)]),o("b-icon",{staticClass:"mb-4",attrs:{icon:"arrow-down",size:"is-small"}}),o("b-field",{staticClass:"w-100 field_bodered",attrs:{label:"To"}},[o("div",{staticClass:"is-flex is-justify-content-space-between"},[o("b-input",{staticClass:"w-50",attrs:{type:"number",step:"any"},model:{value:t.tradeInfo.value2,callback:function(e){t.$set(t.tradeInfo,"value2",e)},expression:"tradeInfo.value2"}}),o("v-select",{staticClass:"w-50 a-select",attrs:{options:t.pricesValue},on:{input:t.setTradeInfoSelectToken2},scopedSlots:t._u([{key:"search",fn:function(e){var a=e.attributes,n=e.events;return[o("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.selected}},"input",a,!1),n))]}}]),model:{value:t.tradeInfo.token2,callback:function(e){t.$set(t.tradeInfo,"token2",e)},expression:"tradeInfo.token2"}},[t._v(" > ")])],1)]),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:t.createTradeBtn},on:{click:function(e){t.trade(t.tradeInfo),t.tradeModal=!1}}},[t._v("Подтвердить")]),""!=t.tradeInfo.token&&NaN!=t.tradeInfo.impact&&t.tradeInfo.impact!=1/0&&t.currentPrices[t.tradeInfo.token2]&&t.currentPrices[t.tradeInfo.token2][t.tradeInfo.token]?[o("h2",{staticClass:"is-size-6 mt-3"},[t._v("Price Impact")]),o("h2",[o("b-tooltip",{attrs:{label:t.tradeInfo.impact+"%",position:"is-right"}},[t._v(" "+t._s(t.tradeInfo.impact.split(".")[0])+t._s(t.tradeInfo.impact.split(".")[1]?"."+t.tradeInfo.impact.split(".")[1].slice(0,2):"")+"% ")])],1)]:t._e()],2)])])]),o("b-modal",{attrs:{width:640},model:{value:t.repayModal,callback:function(e){t.repayModal=e},expression:"repayModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Вернуть займ")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setRepayAccountInfo(parseInt(a)),t.setRepayValue(parseInt(a),t.repayInfo.token)}},model:{value:t.repayInfo.account,callback:function(e){t.$set(t.repayInfo,"account",e)},expression:"repayInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token")]),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"text"},model:{value:t.repayInfo.value,callback:function(e){t.$set(t.repayInfo,"value",e)},expression:"repayInfo.value"}}),t._l(t.repayInfo.borrows,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token","native-value":e.name},nativeOn:{click:function(o){return t.setRepayValue(t.repayInfo.account,e.name)}},model:{value:t.repayInfo.token,callback:function(e){t.$set(t.repayInfo,"token",e)},expression:"repayInfo.token"}},[t._v(" "+t._s(e.name)+" - "),o("b-tooltip",{attrs:{label:e.value.toString(),position:"is-bottom"}},[t._v(" "+t._s(e.value.toString().split(".")[0])+t._s(e.value.toString().split(".")[1]?"."+e.value.toString().split(".")[1].slice(0,4):"")+" ")])],1)],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-1"},[t._v("к возврату: "+t._s(t.repayInfo.sumBorrowPlusEffects)+" ETH")]),o("h2",{staticClass:"is-size-6 mb-1"},[t._v("обеспечение: "+t._s(t.repayInfo.sumCollateral)+" BTC")]),o("h3",{staticClass:"is-size-8 mb-3"},[t._v(" Вернуть займ аккаунта №"+t._s(t.repayInfo.account+1)+" в размере "),o("b-tooltip",{attrs:{label:t.repayInfo.value.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.repayInfo.value.toString().split(".")[0])+t._s(t.repayInfo.value.toString().split(".")[1]?"."+t.repayInfo.value.toString().split(".")[1].slice(0,4):"")+" ")]),t._v(" "+t._s(t.repayInfo.token)+" "),o("br")],1),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:0==t.poolAccounts.length||0==t.repayInfo.borrows.length||""==t.repayInfo.token||""==t.repayInfo.value||0==parseFloat(t.repayInfo.value)},on:{click:function(e){t.repay(t.repayInfo),t.repayModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:740},model:{value:t.liquidateModal,callback:function(e){t.liquidateModal=e},expression:"liquidateModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Ликвидация займа")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setLiqidateOptions1(parseInt(a),parseInt(t.liquidateInfo.account2)),t.setLiqidateOptions(parseInt(a)),t.setMaxLiquidate(parseInt(a),t.liquidateInfo.token)}},model:{value:t.liquidateInfo.account,callback:function(e){t.$set(t.liquidateInfo,"account",e)},expression:"liquidateInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token max( "),o("b-tooltip",{attrs:{label:t.liquidateInfo.maxLiquidate.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.liquidateInfo.maxLiquidate.toString().split(".")[0])+t._s(t.liquidateInfo.maxLiquidate.toString().split(".")[1]?"."+t.liquidateInfo.maxLiquidate.toString().split(".")[1].slice(0,4):"")+" ")]),t._v(") ")],1),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"text"},model:{value:t.liquidateInfo.value,callback:function(e){t.$set(t.liquidateInfo,"value",e)},expression:"liquidateInfo.value"}}),t._l(t.liquidateInfo.options1,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token","native-value":e},nativeOn:{click:function(o){return t.setMaxLiquidate(t.liquidateInfo.account,e)}},model:{value:t.liquidateInfo.token,callback:function(e){t.$set(t.liquidateInfo,"token",e)},expression:"liquidateInfo.token"}},[t._v(" "+t._s(e)+" ")])],1)}))],2),o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account2")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account2","native-value":parseInt(a)},nativeOn:{click:function(e){t.setLiqidateOptions(parseInt(t.liquidateInfo.account),parseInt(a))}},model:{value:t.liquidateInfo.account2,callback:function(e){t.$set(t.liquidateInfo,"account2",e)},expression:"liquidateInfo.account2"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token2")]),t._l(t.liquidateInfo.options,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token2","native-value":e},model:{value:t.liquidateInfo.token2,callback:function(e){t.$set(t.liquidateInfo,"token2",e)},expression:"liquidateInfo.token2"}},[t._v(" "+t._s(e)+" ")])],1)}))],2),o("div",{staticClass:"column is-4"},[o("h3",{staticClass:"is-size-8 mb-3"},[t._v(" Ликвидировать займ аккаунта №"+t._s(t.liquidateInfo.account+1)+" и перевести "+t._s(t.liquidateInfo.token)+" в пул ")]),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:0==t.poolAccounts.length||""==t.liquidateInfo.token||""==t.liquidateInfo.token2||0==t.liquidateInfo.options1.length||0==t.liquidateInfo.options||""==t.liquidateInfo.value||0==parseFloat(t.liquidateInfo.value)},on:{click:function(e){t.liquidate(t.liquidateInfo),t.liquidateModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:640},model:{value:t.repayStableModal,callback:function(e){t.repayStableModal=e},expression:"repayStableModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Вернуть стейбл коины")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setRepayStableAccountInfo(parseInt(a)),t.setRepayStableValue(parseInt(a),t.repayStableInfo.token)}},model:{value:t.repayStableInfo.account,callback:function(e){t.$set(t.repayStableInfo,"account",e)},expression:"repayStableInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-5"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token")]),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"text"},model:{value:t.repayStableInfo.value,callback:function(e){t.$set(t.repayStableInfo,"value",e)},expression:"repayStableInfo.value"}}),t._l(t.repayStableInfo.borrows,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token","native-value":e.name},nativeOn:{click:function(o){return t.setRepayStableValue(t.repayStableInfo.account,e.name)}},model:{value:t.repayStableInfo.token,callback:function(e){t.$set(t.repayStableInfo,"token",e)},expression:"repayStableInfo.token"}},[t._v(" "+t._s(e.name)+" - "),o("b-tooltip",{attrs:{label:e.value.toString(),position:"is-bottom"}},[t._v(" "+t._s(e.value.toString().split(".")[0])+t._s(e.value.toString().split(".")[1]?"."+e.value.toString().split(".")[1].slice(0,4):"")+" ")])],1)],1)}))],2),o("div",{staticClass:"column is-5"},[o("h3",{staticClass:"is-size-8 mb-3"},[t._v(" Вернуть стейбл коины аккаунта №"+t._s(t.repayStableInfo.account+1)+" "),o("b-tooltip",{attrs:{label:t.repayStableInfo.value.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.repayStableInfo.value.toString().split(".")[0])+t._s(t.repayStableInfo.value.toString().split(".")[1]?"."+t.repayStableInfo.value.toString().split(".")[1].slice(0,4):"")+" ")]),t._v(" "+t._s(t.repayStableInfo.token)+" "),o("br")],1),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:0==t.poolAccounts.length||0==t.repayStableInfo.borrows.length||""==t.repayStableInfo.token||""==t.repayStableInfo.value||0==parseFloat(t.repayStableInfo.value)},on:{click:function(e){t.repayStable(t.repayStableInfo),t.repayStableModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-modal",{attrs:{width:740},model:{value:t.liquidateStableModal,callback:function(e){t.liquidateStableModal=e},expression:"liquidateStableModal"}},[o("div",{staticClass:"modal-card modal-content-height",staticStyle:{width:"auto"}},[o("section",{staticClass:"modal-card-body"},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v("Ликвидация стейбл коинов")]),o("div",{staticClass:"columns is-multiline"},[o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account","native-value":parseInt(a)},nativeOn:{click:function(e){t.setLiqidateStableOptions1(parseInt(a)),t.setLiqidateStableOptions(parseInt(a),parseInt(t.liquidateStableInfo.account2)),t.setMaxLiquidateStable(parseInt(a),t.liquidateStableInfo.token)}},model:{value:t.liquidateStableInfo.account,callback:function(e){t.$set(t.liquidateStableInfo,"account",e)},expression:"liquidateStableInfo.account"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token max( "),o("b-tooltip",{attrs:{label:t.liquidateStableInfo.maxLiquidate.toString(),position:"is-bottom"}},[t._v(" "+t._s(t.liquidateStableInfo.maxLiquidate.toString().split(".")[0])+t._s(t.liquidateStableInfo.maxLiquidate.toString().split(".")[1]?"."+t.liquidateStableInfo.maxLiquidate.toString().split(".")[1].slice(0,4):"")+" ")]),t._v(") ")],1),o("b-input",{staticClass:"is-flex-grow-2 mb-3",attrs:{type:"text"},model:{value:t.liquidateStableInfo.value,callback:function(e){t.$set(t.liquidateStableInfo,"value",e)},expression:"liquidateStableInfo.value"}}),t._l(t.liquidateStableInfo.options1,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token","native-value":e},nativeOn:{click:function(o){return t.setMaxLiquidateStable(t.liquidateStableInfo.account,e)}},model:{value:t.liquidateStableInfo.token,callback:function(e){t.$set(t.liquidateStableInfo,"token",e)},expression:"liquidateStableInfo.token"}},[t._v(" "+t._s(e)+" ")])],1)}))],2),o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("account2")]),t._l(t.poolAccounts,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"account2","native-value":parseInt(a)},nativeOn:{click:function(e){t.setLiqidateStableOptions(parseInt(t.liquidateStableInfo.account),parseInt(a))}},model:{value:t.liquidateStableInfo.account2,callback:function(e){t.$set(t.liquidateStableInfo,"account2",e)},expression:"liquidateStableInfo.account2"}},[t._v(" №"+t._s(parseInt(a)+1)+" ")])],1)}))],2),o("div",{staticClass:"column is-2"},[o("h2",{staticClass:"is-size-6 mb-3"},[t._v("token2")]),t._l(t.liquidateStableInfo.options,(function(e,a){return o("div",{key:a},[o("b-radio",{attrs:{name:"token2","native-value":e},model:{value:t.liquidateStableInfo.token2,callback:function(e){t.$set(t.liquidateStableInfo,"token2",e)},expression:"liquidateStableInfo.token2"}},[t._v(" "+t._s(e)+" ")])],1)}))],2),o("div",{staticClass:"column is-4"},[o("h3",{staticClass:"is-size-8 mb-3"},[t._v(" Ликвидировать стейбл коины аккаунта №"+t._s(t.liquidateStableInfo.account+1)+" и перевести "+t._s(t.liquidateStableInfo.token)+" в пул ")]),o("b-button",{attrs:{expanded:"",type:"is-primary",outlined:"",disabled:0==t.poolAccounts.length||""==t.liquidateStableInfo.token||""==t.liquidateStableInfo.token2||0==t.liquidateStableInfo.options1.length||0==t.liquidateStableInfo.options||""==t.liquidateStableInfo.value||0==parseFloat(t.liquidateStableInfo.value)},on:{click:function(e){t.liquidateS(t.liquidateStableInfo),t.liquidateStableModal=!1}}},[t._v("Подтвердить")])],1)])])])]),o("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}})],1)},_=[],p=o("9cae"),f=p["a"],b=(o("3654"),Object(i["a"])(f,d,_,!1,null,null,null)),m=b.exports;a["a"].use(u["a"]);var v=[{path:"/",name:"Home",component:m}],h=new u["a"]({routes:v}),k=h,g=o("2f62"),w=(o("4160"),o("13d5"),o("b64b"),o("d3b7"),o("ac1f"),o("25f0"),o("1276"),o("159b"),{namespaced:!0,state:{poolAccounts:[]},getters:{accountSumm:function(t,e,o,a){var n=[];return t.poolAccounts.forEach((function(t){var e=0;for(var o in t.balance)if(Object.prototype.hasOwnProperty.call(t.balance,o)&&a["prices/poolPricesFormat"][o])e+=parseFloat(t.balance[o])*a["prices/poolPricesFormat"][o];else{var s=o.split("x")[1];a["prices/poolPricesFormat"][s]&&(e+=parseFloat(t.balance[o])*window.pool._getExchangeRate(s).toString()*a["prices/poolPricesFormat"][s])}n.push(e)})),n},accountAllSumm:function(t,e){return e.accountSumm.length>0?e.accountSumm.reduce((function(t,e){return t+e}),0):0}},mutations:{setInfo:function(t,e){for(var o in t.poolAccounts=[],e)Object.prototype.hasOwnProperty.call(e,o)&&t.poolAccounts.push(e[o])}},actions:{addBalanceToAccount:function(t,e){var o=t.state,a=t.dispatch,n=e.i,s=e.data,i=e.pricesFormat;void 0!=n?window.pool.accounts.issueBalance(n,s):window.pool.accounts.issueBalance(Object.keys(o.poolAccounts).length,s),setTimeout((function(){a("updateAccounts",i)}),0)},updateAccounts:function(t,e){var o=t.commit;o("setInfo",window.pool.getInfo(e).accounts)}}}),I=(o("4de4"),o("caad"),o("d81d"),o("b0c0"),o("2532"),{namespaced:!0,state:{poolPrices:[],pricesOptionsChecked:[],stable:[],stableChecked:[]},getters:{poolPricesFormat:function(t){var e={};return t.poolPrices.forEach((function(t){e[t.name]=t.value})),e},pricesOptions:function(t){return t.poolPrices.map((function(t){return t.name})).filter((function(e){return!t.stable.includes(e)}))}},mutations:{setPrices:function(t,e){for(var o in t.poolPrices=[],e)Object.prototype.hasOwnProperty.call(e,o)&&t.poolPrices.push({name:o,value:parseFloat(e[o])});window.pool.setPrices(e)},setStable:function(t,e){t.stable=e},addStable:function(t,e){t.stable.push(e)},setPricesOptionsChecked:function(t,e){t.pricesOptionsChecked=e},setStableChecked:function(t,e){t.stableChecked=e}},actions:{setPricesArray:function(t,e){var o=t.commit,a={};e.forEach((function(t){a[t.name]=t.value})),o("setPrices",a)}}});a["a"].use(g["a"]);var O=new g["a"].Store({state:{},mutations:{},actions:{},modules:{accounts:w,prices:I}}),y=(o("99af"),o("c975"),o("b680"),o("4c53"),o("b85c")),S=o("5530"),C=o("3835"),E=o("d4ec"),D=o("ade3"),x=o("4128"),M=o.n(x),T=(o("4fad"),o("07ac"),function t(){var e=this;Object(E["a"])(this,t),Object(D["a"])(this,"get",(function(t){return e.accounts[t]||(e.accounts[t]={borrows:{},deposits:{},balance:{},dao:{importance:new M.a(0),dTokens:new M.a(0),delegators:[]}}),e.accounts[t]})),Object(D["a"])(this,"all",(function(){return e.accounts})),Object(D["a"])(this,"values",(function(){return Object.values(e.accounts)})),Object(D["a"])(this,"addDeposit",(function(t,o,a,n,s){if(e.get(t).deposits[o]){var i=e.get(t).deposits[o];i.value=i.value.plus(a),i.share=i.share.plus(n),i.capital=i.capital.plus(new M.a(a).times(s))}else e.get(t).deposits[o]={value:new M.a(a),share:n,capital:new M.a(a).times(s)}})),Object(D["a"])(this,"removeDeposit",(function(t,o,a,n,s){if(e.get(t).deposits[o]){var i=e.get(t).deposits[o],c=i.value.times(M.a.div(n,i.share));i.value=i.value.minus(c),i.share=i.share.minus(n),i.capital=i.capital.minus(new M.a(c).times(s))}})),Object(D["a"])(this,"getDeposit",(function(t,o){return e.get(t).deposits[o]})),Object(D["a"])(this,"setBorrow",(function(t,o,a,n){if(e.get(t).borrows[o]){var s=e.get(t).borrows[o];s.value=a,s.interestIndex=n}else e.get(t).borrows[o]={value:new M.a(a),interestIndex:new M.a(n)}})),Object(D["a"])(this,"countBorrow",(function(t,o,a){var n=e.get(t);if(!n.borrows[o]||n.borrows[o].value.eq(0))return new M.a(0);var s=n.borrows[o].value.times(a);return s.div(n.borrows[o].interestIndex)})),Object(D["a"])(this,"issueBalance",(function(t,o){Object.entries(o).forEach((function(o){var a=Object(C["a"])(o,2),n=a[0],s=a[1];e.get(t).balance[n]?e.get(t).balance[n]=e.get(t).balance[n].plus(s):e.get(t).balance[n]=new M.a(s)}))})),Object(D["a"])(this,"addBalance",(function(t,o,a){e.get(t).balance[o]?e.get(t).balance[o]=e.get(t).balance[o].plus(a):e.get(t).balance[o]=new M.a(a)})),Object(D["a"])(this,"subBalance",(function(t,o,a){var n=e.get(t).balance;return n[o]&&n[o].gte(a)?(e.get(t).balance[o]=n[o].minus(a),!0):(console.log("Not enough balance to spend ".concat(a," ").concat(o)),!1)})),Object(D["a"])(this,"forEach",(function(t){for(var o in e.accounts)Object.prototype.hasOwnProperty.call(e.accounts,o)&&t(e.accounts[o],o,e.accounts)})),this.accounts={}}),P=T,A=function t(e){var o=this;Object(E["a"])(this,t),Object(D["a"])(this,"get",(function(t){return o.reserves[t]||(o.reserves[t]={value:new M.a(0),totalBorrows:new M.a(0),borrowIndex:o.config.dayRate,totalReserves:new M.a(0),price:new M.a(0),capital:new M.a(0),weight:new M.a(0),staked:new M.a(0),prevDay:new M.a(o.config.day)}),o.reserves[t]})),Object(D["a"])(this,"all",(function(){return o.reserves})),Object(D["a"])(this,"addValue",(function(t,e){o.get(t).value=o.get(t).value.plus(e)})),Object(D["a"])(this,"setPrice",(function(t,e){o.get(t).price=new M.a(e)})),Object(D["a"])(this,"getValue",(function(t){return o.get(t).value})),Object(D["a"])(this,"getValueWithBorrows",(function(t){return o.get(t).value.plus(o.get(t).totalBorrows)})),Object(D["a"])(this,"getPrice",(function(t){return o.get(t).price})),Object(D["a"])(this,"getCapital",(function(t){return o.get(t).value.times(o.get(t).price)})),Object(D["a"])(this,"getLiquidCapital",(function(){return Object.keys(o.all()).map((function(t){return o.getCapital(t)})).reduce((function(t,e){return new M.a(t).plus(new M.a(e))}),new M.a(0))})),Object(D["a"])(this,"getBorrowedCapital",(function(){return Object.keys(o.all()).map((function(t){return o.get(t).totalBorrows.times(o.get(t).price)})).reduce((function(t,e){return new M.a(t).plus(new M.a(e))}),new M.a(0))})),Object(D["a"])(this,"getFullCapital",(function(){return o.getLiquidCapital().plus(o.getBorrowedCapital())})),this.config=e,this.reserves={}},j=A;function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=t,a=o;a.gt(M.a.exp(1))&&(a=a.ln());for(var n=0;n<e;++n){var s=a.exp(),i=a.mul(s).minus(o),c=s.mul(a.add(1)),r=a.add(2).mul(a.mul(s).sub(o)).div(a.mul(2).add(2)),l=c.sub(r);a=a.sub(i.div(l))}return a}var B=365,R=function t(){var e=this;Object(E["a"])(this,t),Object(D["a"])(this,"createPool",(function(t){e.config=t,e.sTokens={},e.history=[],e.day=1,e.fees={tradeFee:new M.a(t.tradeFee)},e.stabFund={},e.collateralFactor=new M.a(e.config.collateralFactor),e.dayRate=new M.a(e.config.baseRate).div(B),e.dayMultiplier=new M.a(e.config.baseMultiplier).div(B),e.reserveFactor=new M.a(e.config.reserveFactor).div(B),e.accounts=new P,e.reserves=new j({day:e.day,dayRate:e.dayRate}),e.dynamicParams={stabPercentage:new M.a(30),closeFactor:new M.a(e.config.closeFactor),penaltyCoefficient:new M.a(e.config.penaltyCoefficient)},e.tickCallbacks=[],t.prices&&e.setPrices(t.prices)})),Object(D["a"])(this,"tick",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.day+=t,e._updateIndexesAll(),e._updateAccountsIndex(),e.tickCallbacks.forEach((function(e){return e(t)}))})),Object(D["a"])(this,"addTicker",(function(t){e.tickCallbacks.push(t)})),Object(D["a"])(this,"redeem",(function(t,o,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;e._updateIndexes(o);var i=e.accounts.getDeposit(t,o);if(!i||i.share.lessThan(a))return{error:{message:"deposit not found or not enough share"},currentShare:i&&i.share,specifiedShare:a};if(!1===s){var c=e._checkBorrow(t,o,0,a),r=Object(C["a"])(c,2),l=(r[0],r[1]);if(l>0)return{error:{message:"not enough collateral"}}}var u=e._liquidateShareAmount(a,o);if(u.value.lessThan(n))return{error:{message:"Return is less than specified minimum",maxReturn:u.value,minReturn:n}};var d=M.a.div(a,i.share);if(u.value.lessThan(i.value.mul(d))&&!s){var _=u.value.div(i.value),p=_.sqrt().mul(2).div(_.plus(1)).minus(1);return console.log(p),{error:{message:"Redeem with loss",output:u.value,loss:p}}}return!0!==e.accounts.subBalance(t,"x"+o,a)?{error:{message:"Not enough xTokens for redeem",token:"x"+o,need:a}}:(e._removeAccountDeposit(t,o,u.value,a),e.reserves.get(o).staked=e.reserves.get(o).staked.minus(u.value),e._countWeights(),e._updateAccountsIndex(),e.accounts.addBalance(t,u.name,u.value),u)})),Object(D["a"])(this,"redeemAll",(function(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;var s=e.accounts.getDeposit(t,o);return!s||s.share.equals(0)?{error:{message:"deposit not found"}}:e.redeem(t,o,s.share,a,n)})),Object(D["a"])(this,"deposit",(function(t,o){var a=o.name,n=o.value;if(-1===e._getTokens().indexOf(a))return console.log("token not allowed"),!1;if(!0!==e.accounts.subBalance(t,a,n))return console.log("Insifficient balance for deposit"),{name:"x"+a,value:0};var s=e._addAccountDeposit(t,a,n);return e.reserves.get(a).staked=e.reserves.get(a).staked.plus(n),e._countWeights(),e._updateIndexes(a),e._updateAccountsIndex(),e.accounts.addBalance(t,"x"+a,s),{name:"x"+a,value:s}})),Object(D["a"])(this,"getInfo",(function(){return{accounts:e.accounts.all(),reserves:e.reserves.all(),sTokens:e.sTokens,capital:e.reserves.getFullCapital(),stabFund:e.stabFund,prices:e._getPrices()}})),Object(D["a"])(this,"borrow",(function(t,o){var a=o.name,n=o.borrowAmount;if(-1===e._getTokens().indexOf(a))return console.log("token not allowed"),!1;e._updateIndexes(a);var s=e._checkBorrow(t,a,n,0),i=Object(C["a"])(s,2),c=(i[0],i[1]),r=e.reserves.get(a);if(c>0)return console.log("not enough collateral"),!1;if(r.value.lt(n))return console.log("not enough reserve ".concat(a)),!1;var l=e.accounts.countBorrow(t,a,r.borrowIndex),u=l.plus(n);return e.accounts.setBorrow(t,a,u,r.borrowIndex),r.value=r.value.minus(n),r.totalBorrows=r.totalBorrows.plus(n),e.accounts.addBalance(t,a,n),e._countWeights(),e._updateAccountsIndex(),!0})),Object(D["a"])(this,"mint",(function(t,o){var a=o.name,n=o.borrowAmount;if(-1===e._getTokens().indexOf(a))return console.log("token not allowed"),!1;if(-1===e.config.stable.indexOf(a))return console.log("this token is not stable"),!1;e._updateIndexes(a);var s=e._checkBorrow(t,a,n,0),i=Object(C["a"])(s,2),c=(i[0],i[1]),r=e.reserves.get(a);if(c>0)return console.log("not enough collateral"),!1;var l=e.accounts.countBorrow(t,a,r.borrowIndex),u=l.plus(n),d=r.totalBorrows.plus(n);return e.accounts.setBorrow(t,a,u,r.borrowIndex),r.totalBorrows=d,e.accounts.addBalance(t,a,n),e._countWeights(),e._updateAccountsIndex(),!0})),Object(D["a"])(this,"burn",(function(t,o,a){if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;if(-1===e.config.stable.indexOf(o))return console.log("this token is not stable"),!1;e._updateIndexes(o);var n=e.reserves.get(o),s=e.accounts.countBorrow(t,o,n.borrowIndex),i=a;if(s.lessThan(i))return console.log("repay amount greater then borrow"),!1;var c=s.minus(i),r=n.totalBorrows.minus(i);return e.accounts.setBorrow(t,o,c,n.borrowIndex),e.accounts.subBalance(t,o,i),n.totalBorrows=r,e._countWeights(),e._updateAccountsIndex(),!0})),Object(D["a"])(this,"liquidateStable",(function(t,o,a,n,s){if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;if(-1===e.config.stable.indexOf(o))return console.log("this token is not stable"),!1;e._updateIndexesAll();var i=e._liquidateBorrowAllowed(t,o);if(i.lessThan(0)||i.equals(0))return console.log("liquidation not allowed"),!1;var c=e._liquidateCalculateSeizeTokens(o,n,a),r=e.dynamicParams.penaltyCoefficient.times(c),l=e.accounts.getDeposit(t,n);if(!l||l.share.lt(c.plus(r)))return console.log("borrower not enough collateral"),!1;if(!e.accounts.get(s).balance[o]||e.accounts.get(s).balance[o].lt(a))return console.log("payer not enough balance"),!1;e.burn(t,o,a),e.accounts.addBalance(t,o,a);var u=e.redeem(t,n,c,0,!0);if(u.error)return console.log(u.error),!1;e.accounts.subBalance(t,u.name,u.value),e.accounts.subBalance(s,o,a),e.accounts.addBalance(s,u.name,u.value);var d=e.redeem(t,n,r,0,!0);return d.error?(console.log(d.error),!1):(e.accounts.subBalance(t,d.name,d.value),e.reserves.get(d.name).totalReserves=e.reserves.get(d.name).totalReserves.plus(d.value),e._updateAccountsIndex(),!0)})),Object(D["a"])(this,"getMaxMint",(function(t,o){if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;if(-1===e.config.stable.indexOf(o))return console.log("this token is not stable"),new M.a(0);var a=e._checkBorrow(t,o,0,0),n=Object(C["a"])(a,1),s=n[0],i=e.reserves.get(o).price;return new M.a(s).div(i)})),Object(D["a"])(this,"tradePool",(function(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Object(C["a"])(o,2),s=n[0],i=n[1],c=new M.a(i).div(100).times(e.fees.tradeFee),r=new M.a(i).minus(c),l=s.split("/")[0],u=s.split("/")[1];if(-1===e._getTokens().indexOf(l))return console.log("token not allowed"),!1;if(-1===e._getTokens().indexOf(u))return console.log("token not allowed"),!1;var d=e._getOutAmount(r,l,u,s),_={value:0,name:u,rate:0,impact:0};if(d.isNaN()||d.equals(0))return console.log("Deposit not enough"),_;if(i<=0)return console.log("Attempt to trade zero or negative value"),_;var p=new M.a(i).div(d).toFixed(4),f=e.reserves.getPrice(u).div(e.reserves.getPrice(l)),b=new M.a(100).minus(new M.a(f).times(100).div(p)),m={value:d,name:u,rate:p,impact:b};if(!a){if(e.reserves.get(u).value.lt(d))return console.log("Insufficient liquidity in the pool"),_;if(!0!==e.accounts.subBalance(t,l,i))return console.log("Insifficient balance for trade"),_;e.reserves.get(u).value=e.reserves.get(u).value.minus(d);var v=e._stabShare(c);e.reserves.get(l).value=e.reserves.get(l).value.plus(new M.a(i).sub(v)),e._addToStabFund(l,v),e.accounts.addBalance(t,m.name,m.value),e._countWeights(),e._balanceWeights(l,u),e.history.push([o,m])}return m})),Object(D["a"])(this,"sendWithConvert",(function(t,o,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=Object(C["a"])(a,2),i=s[0],c=s[1],r=new M.a(c).div(100).times(e.fees.tradeFee),l=new M.a(c).minus(r),u=i.split("/")[0],d=i.split("/")[1];if(-1===e._getTokens().indexOf(u))return console.log("token not allowed"),!1;if(-1===e._getTokens().indexOf(d))return console.log("token not allowed"),!1;var _=e._getOutAmount(l,u,d,i);if(c<=0)return console.log("Attempt to trade zero or negative value"),{value:0,name:d};var p={value:_,name:d};if(!n){if(e.reserves.get(d).value.lt(_))return console.log("Insufficient liquidity in the pool"),{value:0,name:d};if(!0!==e.accounts.subBalance(t,u,c))return console.log("Insifficient balance for trade"),{value:0,name:d};e.reserves.get(d).value=e.reserves.get(d).value.minus(_);var f=e._stabShare(r);new M.a(r).sub(f);e.reserves.get(u).staked=e.reserves.get(u).staked.minus(r),e.reserves.get(d).staked=e.reserves.get(d).staked.plus(r),e.reserves.get(u).value=e.reserves.get(u).value.plus(new M.a(c).sub(f)),e._addToStabFund(u,f),e.accounts.addBalance(o,p.name,p.value),e._countWeights(),e._balanceWeights(u,d),e.history.push([a,p])}return p})),Object(D["a"])(this,"repay",(function(t,o,a){if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;e._updateIndexes(o);var n=e.reserves.get(o),s=e.accounts.countBorrow(t,o,n.borrowIndex),i=a;if(s.lessThan(i))return console.log("repay amount greater then borrow"),!1;var c=s.minus(i),r=n.totalBorrows.minus(i);return e.accounts.setBorrow(t,o,c,n.borrowIndex),e.accounts.subBalance(t,o,i),n.value=n.value.plus(i),n.totalBorrows=r,!0})),Object(D["a"])(this,"liquidate",(function(t,o,a,n,s){if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;e._updateIndexesAll();var i=e._liquidateBorrowAllowed(t,o);if(i.lessThan(0)||i.equals(0))return console.log("liquidation not allowed"),!1;var c=e._liquidateCalculateSeizeTokens(o,n,a),r=e.accounts.getDeposit(t,n);if(!r||r.share.lt(c))return console.log("borrower not enough collateral"),!1;if(!e.accounts.get(s).balance[o]||e.accounts.get(s).balance[o].lt(a))return console.log("payer not enough balance"),!1;e.repay(t,o,a),e.accounts.addBalance(t,o,a);var l=e.redeem(t,n,c,0,!0);return l.error?(console.log(l.error),!1):(e.accounts.subBalance(t,l.name,l.value),e.accounts.subBalance(s,o,a),e.accounts.addBalance(s,l.name,l.value),e._updateAccountsIndex(),!0)})),Object(D["a"])(this,"getMaxBorrow",(function(t,o){if(-1===e._getTokens().indexOf(o))return console.log("token not allowed"),!1;var a=e._checkBorrow(t,o,0,0),n=Object(C["a"])(a,1),s=n[0],i=e.reserves.get(o).price;return new M.a(s).div(i)})),Object(D["a"])(this,"_liquidateCalculateSeizeTokens",(function(t,o,a){var n=e.reserves.get(t).price,s=e.reserves.get(o).price,i=e._getExchangeRate(o),c=new M.a(e.config.liquidationIncentive).times(n),r=new M.a(s).times(i),l=c.div(r);return l.times(a).abs()})),Object(D["a"])(this,"_getOutAmount",(function(t,o,a){var n,s=e.reserves.getValueWithBorrows(o).times(100),i=e.reserves.get(o).weight,c=e.reserves.get(a).weight,r=e.reserves.getValueWithBorrows(a).times(100),l=s.div(s.plus(t)).pow(i.div(c)),u=new M.a(1).minus(l);return n=r.times(u),n})),Object(D["a"])(this,"_getInAmount",(function(t,o,a){var n,s=e.reserves.getValueWithBorrows(o),i=e.reserves.get(o).weight,c=e.reserves.get(a).weight,r=e.reserves.getValueWithBorrows(a),l=r.div(r.minus(t)).pow(c.div(i));return n=l.minus(1).times(s),n})),Object(D["a"])(this,"_getSpotPrice",(function(t,o){var a=e.reserves.getValueWithBorrows(t).div(e.reserves.get(t).weight),n=e.reserves.getValueWithBorrows(o).div(e.reserves.get(o).weight),s=new M.a(1).div(new M.a(1).minus(e.fees.tradeFee.div(100)));return a.div(n).mul(s)})),Object(D["a"])(this,"_stabShare",(function(t){return t.mul(e.dynamicParams.stabPercentage).div(100)})),Object(D["a"])(this,"setPrices",(function(t){var o=e._getTokens();o.forEach((function(o){if(!t[o])throw{error:"Has no price for ".concat(o," token!")};e.reserves.setPrice(o,t[o])})),e._countWeights()})),Object(D["a"])(this,"_getTokens",(function(){return e.config.tokens.concat(e.config.stable)})),Object(D["a"])(this,"_addToStabFund",(function(t,o){e.stabFund[t]&&e.stabFund[t].value?e.stabFund[t].value=e.stabFund[t].value.plus(o):e.stabFund[t]={value:new M.a(o)}})),Object(D["a"])(this,"_addAccountDeposit",(function(t,o,a){var n=e.reserves.getValueWithBorrows(o),s=e.reserves.get(o).price,i=e._countShareToken(o,a,n);return e.accounts.addDeposit(t,o,a,i,s),e.reserves.addValue(o,a),i})),Object(D["a"])(this,"_removeAccountDeposit",(function(t,o,a,n){var s=e.reserves.get(o).price;e.accounts.removeDeposit(t,o,a,n,s),e.reserves.get(o).value=e.reserves.get(o).value.minus(a),e.sTokens[o]=e.sTokens[o].minus(n)})),Object(D["a"])(this,"_liquidateShareAmount",(function(t,o){var a=new M.a(t).times(e.reserves.getValueWithBorrows(o)).div(e.sTokens[o]);return{value:a,name:o}})),Object(D["a"])(this,"_countShareToken",(function(t,o,a){var n=0;return e.sTokens[t]?(n=new M.a(o).div(a).times(e.sTokens[t]),e.sTokens[t]=e.sTokens[t].plus(n)):(n=new M.a(o).sqrt(),e.sTokens[t]=n),n})),Object(D["a"])(this,"_countWeights",(function(){var t=e._getTokens();if(!t.length)return!1;e._countCapital();var o=e.reserves.getFullCapital();return t.forEach((function(t){e.reserves.get(t).weight=o.isZero()?new M.a(0):e.reserves.get(t).capital.times(100).div(o)})),!0})),Object(D["a"])(this,"_balanceWeights",(function(t,o){var a=e.reserves.get(t),n=e.reserves.get(o),s=a.weight.plus(n.weight),i=a.value.div(a.staked).ln();if(!0===i.abs().lt(.001))return!1;var c=a.price.div(n.price),r=a.staked.div(n.value).mul(c).mul(i),l=q(r),u=new M.a(l).div(i),d=M.a.div(u,u.plus(1)).mul(s),_=M.a.div(1,u.plus(1)).mul(s);return a.weight=d,n.weight=_,!0})),Object(D["a"])(this,"_countCapital",(function(){var t=e._getTokens();t.forEach((function(t){e.reserves.get(t).capital=e.reserves.getValueWithBorrows(t).times(e.reserves.get(t).price)}))})),Object(D["a"])(this,"getLiqudationMax",(function(t,o){return-1===e._getTokens().indexOf(o)?(console.log("token not allowed"),!1):e._liquidateBorrowAllowed(t,o)})),Object(D["a"])(this,"_liquidateBorrowAllowed",(function(t,o){var a=e._checkBorrow(t,o,0,0),n=Object(C["a"])(a,2),s=(n[0],n[1]);if(0===s)return new M.a(0);var i=e.accounts.countBorrow(t,o,e.reserves.get(o).borrowIndex);return new M.a(e.dynamicParams.closeFactor).times(i)})),Object(D["a"])(this,"_getExchangeRate",(function(t){if(-1===e._getTokens().indexOf(t))return console.log("token not allowed"),!1;var o=e.reserves.get(t);return e.sTokens[t]&&!e.sTokens[t].isZero()?o.value.plus(o.totalBorrows).div(e.sTokens[t]):new M.a(0)})),Object(D["a"])(this,"_checkBorrow",(function(t,o,a,n){var s=e.accounts.get(t),i=e.collateralFactor;e._updateIndexes(o);var c=e._getTokens().map((function(c){var r=s.deposits[c]?s.deposits[c].share:new M.a(0),l=e.accounts.countBorrow(t,c,e.reserves.get(c).borrowIndex),u=e.reserves.get(c).price,d=e._getExchangeRate(c),_=new M.a(i).times(d).times(u),p=r.times(_).abs(),f=c===o?l.plus(a).times(u).plus(_.times(n)):l.times(u).abs();return[p,f]})).reduce((function(t,e){return[t[0].plus(e[0]),t[1].plus(e[1])]}),[new M.a(0),new M.a(0)]),r=Object(C["a"])(c,2),l=r[0],u=r[1];return s.sumCollateral=l,s.sumBorrowPlusEffects=u,l.gt(u)?[l.minus(u),0]:[0,u.minus(l)]})),Object(D["a"])(this,"_updateIndexesAll",(function(){e._getTokens().forEach((function(t){return e._updateIndexes(t)}))})),Object(D["a"])(this,"_updateAccountsIndex",(function(){Object.keys(e.accounts.all()).forEach((function(t){e._getTokens().forEach((function(o){e._checkBorrow(t,o,0,0)}))}))})),Object(D["a"])(this,"_updateIndexes",(function(t){var o=e.reserves.get(t),a=new M.a(e.day),n=o.prevDay;if(a===n)return 0;var s=o.value,i=o.totalBorrows,c=o.totalReserves;o.utilizationRate=e._utilizationRate(s,i,c);var r=o.borrowIndex,l=e._getBorrowRate(s,i,c);o.borrowRate=l.times(B),o.supplyRate=e._getSupplyRate(s,i,c).times(B);var u=a.minus(n),d=l.times(u),_=d.times(i),p=_.plus(i),f=e.reserveFactor.times(_).plus(c),b=d.times(r).plus(r);o.prevDay=a,o.borrowIndex=b,o.totalBorrows=p,o.totalReserves=f})),Object(D["a"])(this,"_utilizationRate",(function(t,e,o){return!e||e.eq(0)?new M.a(0):e.div(t.plus(e).minus(o))})),Object(D["a"])(this,"_getBorrowRate",(function(t,o,a){var n=e._utilizationRate(t,o,a);return n.times(e.dayMultiplier).plus(e.dayRate)})),Object(D["a"])(this,"_getSupplyRate",(function(t,o,a){var n=new M.a(1).minus(e.config.reserveFactor),s=e._getBorrowRate(t,o,a),i=s.times(n);return e._utilizationRate(t,o,a).times(i)})),Object(D["a"])(this,"_setParameters",(function(t){Object.assign(e.dynamicParams,t)})),Object(D["a"])(this,"_getPrices",(function(){var t,o=e._getTokens().filter((function(t){return-1===t.indexOf("s")})),a=(o.reduce((function(t,o,a){return Object(S["a"])(Object(S["a"])({},t),{},Object(D["a"])({},o,e.reserves.get(o).price))}),{}),{}),n=Object(y["a"])(o);try{for(n.s();!(t=n.n()).done;){var s=t.value;a[s]||(a[s]={});var i,c=Object(y["a"])(o);try{for(c.s();!(i=c.n()).done;){var r=i.value;s!==r&&(a[s][r]=e.tradePool(1,[r+"/"+s,1],1).value.div(1).toFixed(4))}}catch(l){c.e(l)}finally{c.f()}}}catch(l){n.e(l)}finally{n.f()}return a}))},F=R,L=(o("a630"),o("3ca3"),function t(){var e=this;Object(E["a"])(this,t),Object(D["a"])(this,"init",(function(t){e.tokens=Array.from(t.tokens),e.prices=Object.assign({},t.prices)})),Object(D["a"])(this,"getNewPrices",(function(){return e.tokens.forEach((function(t){e.prices[t]=new M.a(e.prices[t]).mul(e.rand_normal().plus(1))})),e.prices})),Object(D["a"])(this,"rand_normal",(function(){for(var t=new M.a(0),e=6,o=0;o<e;o+=1)t=t.plus(Math.random()).minus(.5);return t.div(e).div(4)}))}),U=L,W=o("289d"),K=(o("5abe"),o("4a7a")),z=o.n(K);window.pool=new F,window.oracle=new U,a["a"].use(W["a"]),a["a"].component("v-select",z.a),a["a"].config.productionTip=!1,new a["a"]({router:k,store:O,render:function(t){return t(l)}}).$mount("#app")},8477:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{},[o("h2",{staticClass:"is-size-4 mb-3"},[t._v(t._s(t.title))]),t._t("header"),t._l(t.form,(function(e){return o("b-field",{key:e.name,attrs:{label:e.name+":",horizontal:""}},[o("div",{staticClass:"is-flex is-align-items-center"},[e.options?o("v-select",{staticClass:"is-flex-grow-2",attrs:{multiple:"",options:e.options},model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"item.value"}}):o("b-input",{staticClass:"is-flex-grow-2",model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"item.value"}}),e.tooltip?o("b-tooltip",{staticClass:"control ml-2",attrs:{label:e.tooltip,multilined:""}},[o("b-icon",{attrs:{icon:"help-circle-outline"}})],1):t._e()],1)])}))],2)},n=[],s={props:["title","form"]},i=s,c=o("2877"),r=Object(c["a"])(i,a,n,!1,null,null,null);e["a"]=r.exports},"9cae":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4de4"),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4160"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("caad"),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b64b"),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_9__),_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("2909"),_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("5530"),vuex__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("2f62"),_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("d654"),_components_Form_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("8477"),_components_AccountsForm_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("1960");__webpack_exports__["a"]={name:"Home",components:{"cmp-form":_components_Form_vue__WEBPACK_IMPORTED_MODULE_14__["a"],"cmp-accounts-form":_components_AccountsForm_vue__WEBPACK_IMPORTED_MODULE_15__["a"]},data:function(){return{capital:0,simulationAccountStart:0,simulationTickTimer:0,isLoading:!1,tickDisble:!0,tokenModal:!1,priceModal:!1,addNewPriceModal:!1,checkboxNewPrice:!1,createDepositModal:!1,createDepositInfo:{account:0,value:0,token:""},returnDepositModal:!1,returnDepositInfo:{account:0,value:0,token:"",options:[]},borrowModal:!1,borrowInfo:{account:0,value:0,token:"",maxBorrow:0},mintModal:!1,mintInfo:{account:0,value:0,token:"",maxMint:0},tradeModal:!1,tradeInfo:{account:0,value:0,value2:0,token:"",token2:"",maxMint:0,impact:0},repayModal:!1,repayInfo:{account:0,value:0,getValue:0,borrows:[],token:"",depositsToken:"",sumCollateral:0,sumBorrowPlusEffects:0},liquidateModal:!1,liquidateInfo:{account:0,account2:0,value:0,maxLiquidate:0,options1:[],options:[],borrows:0,token:"",token2:""},repayStableModal:!1,repayStableInfo:{account:0,value:0,getValue:0,borrows:[],token:"",depositsToken:"",sumCollateral:0,sumBorrowPlusEffects:0},liquidateStableModal:!1,liquidateStableInfo:{account:0,account2:0,value:0,maxLiquidate:0,options1:[],options:[],borrows:0,token:"",token2:""},form1:[{name:"tradeFee",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].tradeFee},{name:"baseRate",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].baseRate},{name:"baseMultiplier",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].baseMultiplier},{name:"reserveFactor",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].reserveFactor},{name:"collateralFactor",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].collateralFactor},{name:"closeFactor",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].closeFactor},{name:"liquidationIncentive",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].liquidationIncentive},{name:"penaltyCoefficient",value:_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].penaltyCoefficient}],table:[],prices:[],newPrice:[],history:[],currentPrices:{}}},computed:Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_12__["e"])("accounts",{poolAccounts:"poolAccounts"})),Object(vuex__WEBPACK_IMPORTED_MODULE_12__["c"])("accounts",{accountsChecked:"itemsChecked"})),Object(vuex__WEBPACK_IMPORTED_MODULE_12__["e"])("prices",["poolPrices","stable","pricesOptionsChecked","stableChecked"])),Object(vuex__WEBPACK_IMPORTED_MODULE_12__["c"])("prices",["poolPricesFormat","pricesOptions"])),{},{pricesValue:{get:function(){return this.pricesOptionsChecked},set:function(t){this.setPricesOptionsChecked(t)}},stableValue:{get:function(){return this.stableChecked},set:function(t){this.setStableChecked(t)}},columns:function(){return[{field:"name",label:"name"},{field:"value",label:"value"},{field:"totalBorrows",label:"totalBorrows"},{field:"borrowIndex",label:"borrowIndex"},{field:"totalReserves",label:"totalReserves"},{field:"price",label:"price"},{field:"capital",label:"capital"},{field:"weight",label:"weight"},{field:"staked",label:"staked"},{field:"prevDay",label:"prevDay"}]},newPriceBtnDis:function(){var t=!1;return this.newPrice.forEach((function(e){""==e.value&&(t=!0)})),t},config:function(){var t={};return this.form1.forEach((function(e){t[e.name]=e.value})),t.tokens=this.pricesOptionsChecked,t.stable=this.stableChecked,t},createDepositBtn:function(){return!(""!=this.createDepositInfo.token&&parseFloat(this.createDepositInfo.value)>0&&this.poolAccounts[this.createDepositInfo.account]&&this.poolAccounts[this.createDepositInfo.account].balance&&this.poolAccounts[this.createDepositInfo.account].balance[this.createDepositInfo.token]&&parseFloat(this.createDepositInfo.value)<=parseFloat(this.poolAccounts[this.createDepositInfo.account].balance[this.createDepositInfo.token].toString()))},createTradeBtn:function(){return!(""!=this.tradeInfo.token&&parseFloat(this.tradeInfo.value)>0&&parseFloat(this.tradeInfo.value2)>0&&this.poolAccounts[this.tradeInfo.account]&&this.poolAccounts[this.tradeInfo.account].balance&&this.poolAccounts[this.tradeInfo.account].balance[this.tradeInfo.token]&&parseFloat(this.tradeInfo.value)<=parseFloat(this.poolAccounts[this.tradeInfo.account].balance[this.tradeInfo.token].toString()))},borrowBtn:function(){return!(""!=this.borrowInfo.token&&parseFloat(this.borrowInfo.value)>0&&parseFloat(this.borrowInfo.value)<=parseFloat(this.borrowInfo.maxBorrow.toString()))}}),watch:{config:function(t){window.pool.createPool(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},t),{},{prices:this.poolPricesFormat})),window.oracle.init(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},t),{},{prices:this.poolPricesFormat}))},priceModal:function(t){var e=this;t?this.poolPrices.forEach((function(t){e.prices.push(Object.assign({},t))})):this.prices=[]},addNewPriceModal:function(t){t?(this.newPrice.push({name:"name",value:""}),this.newPrice.push({name:"rate",value:""})):(this.newPrice=[],this.checkboxNewPrice=!1)},history:function(){this.$refs.history.scrollTo({top:this.$refs.history.scrollHeight,behavior:"smooth"})},createDepositModal:function(t){t&&this.setCreateDepositOptions(0)},returnDepositModal:function(t){t&&this.setReturnOptionToDeposit(this.returnDepositInfo.account)},tradeModal:function(t){t&&(this.setTradeOptions(0),this.setTradeValue(this.tradeInfo.account,this.tradeInfo.token))},borrowModal:function(t){t&&(this.setReturnOptions(),this.setReturnMaxBorrow(this.borrowInfo.account,this.borrowInfo.token))},mintModal:function(t){t&&(this.setMintOptions(),this.setMaxToMint(parseInt(this.mintInfo.account),this.mintInfo.token))},repayModal:function(t){t&&(this.setRepayAccountInfo(this.repayInfo.account),this.setRepayValue(this.repayInfo.account,this.repayInfo.token))},liquidateModal:function(t){t&&(this.setLiqidateOptions1(this.liquidateInfo.account,this.liquidateInfo.account2),this.setLiqidateOptions(this.liquidateInfo.account),this.setMaxLiquidate(this.liquidateInfo.account,this.liquidateInfo.token))},repayStableModal:function(t){t&&(this.setRepayStableAccountInfo(this.repayStableInfo.account),this.setRepayStableValue(this.repayStableInfo.account,this.repayStableInfo.token))},liquidateStableModal:function(t){t&&(this.setLiqidateStableOptions1(this.liquidateStableInfo.account),this.setLiqidateStableOptions(this.liquidateStableInfo.account,this.liquidateStableInfo.account2))}},methods:Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_12__["b"])("accounts",["updateAccounts","addBalanceToAccount"])),Object(vuex__WEBPACK_IMPORTED_MODULE_12__["d"])("prices",["setPrices","setPricesOptionsChecked","addStable","setStableChecked","setPricesOptionsChecked"])),Object(vuex__WEBPACK_IMPORTED_MODULE_12__["b"])("prices",["setPricesArray"])),{},{addNewPrice:function(t){this.setPricesArray([].concat(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_10__["a"])(this.poolPrices),[{name:t[0].value,value:t[1].value}])),this.checkboxNewPrice&&this.addStable(t[0].value)},updateResults:function(){var t=window.pool.getInfo(this.poolPricesFormat);this.capital=t.capital.toString(),this.table=[];var e=t.reserves;this.updateAccounts(this.poolPricesFormat);var o=window.pool._getTokens().filter((function(t){return!window.pool.reserves.getValue(t).equals(0)}));for(var a in o&&o.length>0&&(this.tickDisble=!1),e)if(Object.prototype.hasOwnProperty.call(e,a)){var n={};for(var s in n.name=a,e[a])Object.prototype.hasOwnProperty.call(e,a)&&(n[s]=e[a][s].toString());this.table.push(n)}var i={name:"summ",value:"",totalBorrows:"",borrowIndex:"",totalReserves:"",price:"",capital:this.capital,weight:"",staked:"",prevDay:"",utilizationRate:"",borrowRate:"",supplyRate:""};this.table.push(i),this.currentPrices=window.pool._getPrices()},nextTick:function(){window.pool.tick(1),this.updateResults(),this.history.push("pool tick")},simulationTick:function simulationTick(callback,data){var dataGet=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.simulationTickTimer++,setTimeout((function(){var newData={};for(var key in dataGet)Object.prototype.hasOwnProperty.call(dataGet,key)&&(newData[key]=eval(dataGet[key]));callback(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])(Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},data),newData))}),100*this.simulationTickTimer)},simulationEnd:function(t){this.isLoading=t.state},testObjKeysInPrice:function(t){var e={};for(var o in t)this.pricesOptionsChecked.includes(o)&&(e[o]=t[o]);return e},simulation:function(){var t=this;this.isLoading=!0;var e=[0,1,2,3,4];0==this.simulationAccountStart&&(this.simulationAccountStart=this.poolAccounts.length),this.simulationTick(this.addBalanceToAccount,{i:0+this.simulationAccountStart,data:this.testObjKeysInPrice({BTC:10,ETH:200}),pricesFormat:Object(_Users_arsalan_Desktop_progects_simulations2_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_11__["a"])({},this.poolPricesFormat)}),this.simulationTick(this.addBalanceToAccount,{i:1+this.simulationAccountStart,data:this.testObjKeysInPrice({BTC:20,EOS:180}),pricesFormat:this.poolPricesFormat}),this.simulationTick(this.addBalanceToAccount,{i:2+this.simulationAccountStart,data:this.testObjKeysInPrice({ETH:180,USDT:20}),pricesFormat:this.poolPricesFormat}),this.simulationTick(this.addBalanceToAccount,{i:3+this.simulationAccountStart,data:this.testObjKeysInPrice({BTC:20,EOS:2200,USDT:210}),pricesFormat:this.poolPricesFormat}),this.simulationTick(this.createDeposit,{account:0+this.simulationAccountStart,token:"BTC",value:"10"}),this.simulationTick(this.createDeposit,{account:0+this.simulationAccountStart,token:"ETH",value:"100"}),this.simulationTick(this.createDeposit,{account:1+this.simulationAccountStart,token:"BTC",value:"10"}),this.simulationTick(this.createDeposit,{account:1+this.simulationAccountStart,token:"EOS",value:"180"}),this.simulationTick(this.createDeposit,{account:2+this.simulationAccountStart,token:"ETH",value:"180"}),this.simulationTick(this.createDeposit,{account:2+this.simulationAccountStart,token:"USDT",value:"20"}),this.simulationTick(this.createDeposit,{account:3+this.simulationAccountStart,token:"EOS",value:"1800"}),this.simulationTick(this.createDeposit,{account:3+this.simulationAccountStart,token:"BTC",value:"10"}),this.simulationTick(this.borrow,{account:0+this.simulationAccountStart,token:"ETH",value:"100"}),this.simulationTick(this.borrow,{account:1+this.simulationAccountStart,token:"EOS",value:"30"}),this.simulationTick(this.mint,{account:1+this.simulationAccountStart,token:"sUSD",value:"300"}),e.forEach((function(){t.nextTick(),t.simulationTick(t.nextTick,{})})),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"ETH",token2:"EOS",value:"10"}),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"ETH",token2:"BTC",value:"100"}),this.simulationTick(this.trade,{account:1+this.simulationAccountStart,token:"EOS",token2:"BTC",value:"30"}),this.simulationTick(this.trade,{account:1+this.simulationAccountStart,token:"BTC",token2:"ETH",value:"0.03"}),e.forEach((function(){t.nextTick(),t.simulationTick(t.nextTick,{})})),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"EOS",token2:"ETH",value:"100"}),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"BTC",token2:"ETH",value:"1"}),this.simulationTick(this.trade,{account:1+this.simulationAccountStart,token:"BTC",token2:"ETH",value:"1"}),this.simulationTick(this.trade,{account:2+this.simulationAccountStart,token:"ETH",token2:"BTC",value:"10"}),e.forEach((function(){t.simulationTick(t.nextTick,{})})),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"ETH",token2:"BTC",value:"50"}),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"BTC",token2:"ETH",value:"0.5"}),this.simulationTick(this.trade,{account:2+this.simulationAccountStart,token:"BTC",token2:"ETH",value:"3"}),this.simulationTick(this.trade,{account:0+this.simulationAccountStart,token:"BTC",token2:"ETH",value:"1"}),e.forEach((function(){t.simulationTick(t.nextTick,{})})),this.simulationTick(this.repay,{account:0+this.simulationAccountStart,token:"ETH"},{value:"window.pool.getInfo(this.poolPricesFormat).accounts[".concat(0+this.simulationAccountStart,"].borrows.ETH.value")}),this.simulationTick(this.liquidate,{account:1+this.simulationAccountStart,account2:3+this.simulationAccountStart,token:"EOS",token2:"BTC"},{value:"window.pool.getInfo(this.poolPricesFormat).accounts[".concat(1+this.simulationAccountStart,"].borrows.EOS.value")}),e.forEach((function(){t.simulationTick(t.nextTick,{})})),this.simulationTick(this.repayStable,{account:2+this.simulationAccountStart,token:"sUSD",value:1e3}),this.simulationTick(this.liquidateS,{account:1+this.simulationAccountStart,account2:3+this.simulationAccountStart,token:"sUSD",token2:"EOS",value:300}),this.simulationTick(this.simulationEnd,{state:!1})},setCreateDepositOptions:function(t){var e=this.poolAccounts[t].balance,o=!0;for(var a in e)o&&(this.createDepositInfo.token=a,this.createDepositInfo.value=e[a].toString()),o=!1},setCreateDepositValue:function(t){this.createDepositInfo.value=this.poolAccounts[this.createDepositInfo.account].balance[t].toString()},createDeposit:function(t){this.pricesOptionsChecked.includes(t.token)&&(window.pool.deposit(t.account,{name:t.token,value:parseFloat(t.value)}),this.updateResults(),this.history.push("создан депозит для аккаунта №".concat(t.account+1," на сумму ").concat(t.token," ").concat(t.value)))},setReturnOptionToDeposit:function(t){var e=window.pool.accounts.get(t).deposits,o=[];for(var a in e)o.push({name:a,value:e[a].value.toString()});this.$set(this.returnDepositInfo,"options",o),this.$set(this.returnDepositInfo,"token",o[0].name),this.$set(this.returnDepositInfo,"value",o[0].value)},returnDeposit:function(t){if(this.pricesOptionsChecked.includes(t.token)){var e=window.pool.redeem(t.account,t.token,parseFloat(t.value));this.updateResults(),e.error?(this.$buefy.toast.open({message:"Ошибка вывода средств! ".concat(e.error.message),type:"is-danger"}),this.history.push("ошибка возврата депозита для аккаунта №".concat(t.account+1," на сумму ").concat(t.token," ").concat(t.value))):this.history.push("возврат депозита для аккаунта №".concat(t.account+1," на сумму ").concat(t.token," ").concat(t.value))}},setReturnOptions:function(){this.borrowInfo.token=this.borrowInfo.options[0]},setReturnMaxBorrow:function(t,e){this.borrowInfo.maxBorrow=window.pool.getMaxBorrow(t,e).toString(),this.borrowInfo.value=this.borrowInfo.maxBorrow},borrow:function(t){if(this.pricesOptionsChecked.includes(t.token)){var e=window.pool.borrow(t.account,{name:t.token,borrowAmount:parseFloat(t.value)});this.updateResults(),e?this.history.push("аккаунт №".concat(t.account+1," взял займ на сумму ").concat(t.token," ").concat(t.value)):(this.$buefy.toast.open({message:"Ошибка! Не достаточно средств в Пуле",type:"is-danger"}),this.history.push("не удачная попытка аккаунта №".concat(t.account+1," взять займ на сумму ").concat(t.token," ").concat(t.value)))}},repay:function(t){if(Object.keys(window.pool.getInfo(this.poolPricesFormat).accounts[t.account].borrows).includes(t.token)){var e=window.pool.repay(t.account,t.token,parseFloat(t.value));e?this.history.push("аккаунт №".concat(t.account+1," вернул займ на сумму ").concat(t.token," ").concat(t.value)):(this.$buefy.toast.open({message:"Ошибка! Возврат займа не прошёл!",type:"is-danger"}),this.history.push("Не удачная попытка вернуть займ аккаунта №".concat(t.account+1," на сумму ").concat(t.token," ").concat(t.value))),this.updateResults()}},setRepayAccountInfo:function(t){var e=window.pool.getInfo(this.poolPricesFormat).accounts[t];for(var o in this.repayInfo.borrows=[],e.borrows)Object.prototype.hasOwnProperty.call(e.borrows,o)&&this.repayInfo.borrows.push({name:o,value:e.borrows[o].value?e.borrows[o].value.toString():""});this.repayInfo.token=this.repayInfo.borrows[0].name?this.repayInfo.borrows[0].name:""},setRepayValue:function(t,e){this.repayInfo.value=window.pool.getInfo(this.poolPricesFormat).accounts[t].borrows[e].value.toString()},setRepayStableAccountInfo:function(t){var e=this,o=window.pool.getInfo(this.poolPricesFormat).accounts[t].borrows,a=Object.keys(o).filter((function(t){return window.pool.config.stable.includes(t)}));this.repayStableInfo.borrows=[],a.forEach((function(t){Object.prototype.hasOwnProperty.call(o,t)&&e.repayStableInfo.borrows.push({name:t,value:o[t].value?o[t].value.toString():""})})),this.repayStableInfo.token=this.repayStableInfo.borrows[0].name?this.repayStableInfo.borrows[0].name:""},setRepayStableValue:function(t,e){this.repayStableInfo.value=window.pool.getInfo(this.poolPricesFormat).accounts[t].borrows[e].value.toString()},repayStable:function(t){if(this.stableChecked.includes(t.token)){var e=window.pool.burn(t.account,t.token,parseFloat(t.value));e?this.history.push("аккаунт №".concat(t.account+1," вернул стейбл коины на сумму ").concat(t.token," ").concat(t.value)):(this.$buefy.toast.open({message:"Ошибка! Возврат стейбл коинов не прошёл!",type:"is-danger"}),this.history.push("Не удачная попытка вернуть стейбл коины аккаунта №".concat(t.account+1," на сумму ").concat(t.token," ").concat(t.value))),this.updateResults()}},setMaxLiquidate:function(t,e){var o,a,n=null===(o=window.pool.getInfo(this.poolPricesFormat).accounts[t])||void 0===o||null===(a=o.borrows[e])||void 0===a?void 0:a.value.toString();this.liquidateInfo.maxLiquidate=n||0,this.liquidateInfo.value=this.liquidateInfo.maxLiquidate.toString()},setLiqidateOptions1:function(t,e){this.liquidateInfo.options1=Object.keys(window.pool.accounts.get(t).borrows).filter((function(t){return Object.keys(window.pool.accounts.get(e).balance).includes(t)})),this.liquidateInfo.token=this.liquidateInfo.options1[0],this.setMaxLiquidate(this.liquidateInfo.account,this.liquidateInfo.token)},setLiqidateOptions:function(t){this.liquidateInfo.options=Object.keys(window.pool.accounts.get(t).deposits),this.liquidateInfo.token2=this.liquidateInfo.options[0]},liquidate:function(t){this.pricesOptionsChecked.includes(t.token)&&this.pricesOptionsChecked.includes(t.token2)&&(window.pool.liquidate(t.account,t.token,parseFloat(t.value),t.token2,t.account2),this.updateResults(),this.history.push("аккаунт №".concat(t.account2+1," ликвидировал займ ").concat(t.token2," на сумму ").concat(t.token," ").concat(t.value," аккаунту №").concat(t.account+1)))},setMaxLiquidateStable:function(t,e){var o,a,n=null===(o=window.pool.getInfo(this.poolPricesFormat).accounts[t])||void 0===o||null===(a=o.borrows[e])||void 0===a?void 0:a.value.toString();this.liquidateStableInfo.maxLiquidate=n||0,this.liquidateStableInfo.value=this.liquidateStableInfo.maxLiquidate.toString()},setLiqidateStableOptions1:function(t){this.liquidateStableInfo.options1=Object.keys(window.pool.accounts.get(t).balance).filter((function(t){return window.pool.config.stable.includes(t)})),this.liquidateStableInfo.token=this.liquidateStableInfo.options1[0]},setLiqidateStableOptions:function(t,e){console.log(e),this.liquidateStableInfo.options=Object.keys(window.pool.accounts.get(t).deposits),this.liquidateStableInfo.token2=this.liquidateStableInfo.options[0]},liquidateS:function(t){if(this.stableChecked.includes(t.token)&&this.pricesOptionsChecked.includes(t.token2)){var e=window.pool.liquidateStable(t.account,t.token,parseFloat(t.value),t.token2,t.account2);e?this.history.push("аккаунт №".concat(t.account2+1," ликвидировал стейбл коинов ").concat(t.token2," на сумму ").concat(t.token," ").concat(t.value," аккаунту №").concat(t.account+1)):(this.$buefy.toast.open({message:"Ошибка! Стейбл коины не ликвидированы!",type:"is-danger"}),this.history.push("аккаунт №".concat(t.account2+1," НЕ ликвидировал стейбл коинов ").concat(t.token2," на сумму ").concat(t.token," ").concat(t.value," аккаунту №").concat(t.account+1))),this.updateResults()}},setMaxToMint:function(t,e){this.mintInfo.maxMint=window.pool.getMaxMint(t,e).toString(),this.mintInfo.value=this.mintInfo.maxMint},setMintOptions:function(){this.mintInfo.token=this.stableChecked[0]},mint:function(t){this.stableChecked.includes(t.token)&&(window.pool.mint(t.account,{name:t.token,borrowAmount:parseFloat(t.value)}),this.history.push("аккаунт №".concat(t.account+1," выпустил стейбл коины на сумму ").concat(t.token," ").concat(t.value)),this.updateResults())},setTradeValue:function(t,e){this.tradeInfo.value=this.poolAccounts[t].balance[e].toString()},setTradeInfoSelected:function(t){this.tradeInfo.account=t,this.setTradeOptions(parseInt(t-1)),this.setTradeValue(parseInt(t-1),this.tradeInfo.token),this.setTradeResult(parseInt(t-1),this.tradeInfo.token,this.tradeInfo.token2,this.tradeInfo.value)},setTradeInfoSelectToken:function(t){var e=this;this.tradeInfo.token=t,setTimeout((function(){e.setTradeValue(e.tradeInfo.account,t),e.setTradeResult(e.tradeInfo.account,t,e.tradeInfo.token2,e.tradeInfo.value)}),0)},setTradeInfoSelectToken2:function(t){this.tradeInfo.token2=t,this.setTradeResult(this.tradeInfo.account,this.tradeInfo.token,t,this.tradeInfo.value)},setTradeOptions:function(t){var e=this.poolAccounts[t].balance,o=!0;for(var a in e)o&&(this.tradeInfo.token=a),o=!1},setTradeResult:function(t,e,o,a){var n=window.pool.tradePool(t,["".concat(e,"/").concat(o),parseFloat(a)],1);this.tradeInfo.value2=n.value.toString(),console.log("trade1",n),this.tradeInfo.impact=n.impact.toString()},trade:function(t){if((this.stableChecked.includes(t.token)||this.pricesOptionsChecked.includes(t.token))&&(this.pricesOptionsChecked.includes(t.token2)||this.stableChecked.includes(t.token2))){var e=window.pool.tradePool(t.account,["".concat(t.token,"/").concat(t.token2),parseFloat(t.value)]);this.updateResults(),this.$buefy.toast.open("вы получили ".concat(e.name," ").concat(e.value.toString())),this.history.push("аккаунт №".concat(t.account+1," обменял ").concat(t.token," / ").concat(t.token2," на сумму ").concat(t.value," (получил ").concat(e.name," ").concat(e.value.toString(),")"))}}}),created:function(){window.oracle.init(_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"]),window.pool.createPool(_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"]),this.setPrices(_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].prices),this.addStable("sUSD"),this.setPricesOptionsChecked(this.pricesOptions),this.setStableChecked(_assets_NeuronES6_config_js__WEBPACK_IMPORTED_MODULE_13__["a"].stable)}}},caba:function(t,e,o){},cf25:function(t,e,o){"use strict";o("fea6")},d654:function(t,e,o){"use strict";var a={tokens:["BTC","ETH","USDT","EOS"],stable:["sUSD"],tradeFee:1,baseMultiplier:2,baseRate:5,reserveFactor:.1,collateralFactor:.5,closeFactor:.5,liquidationIncentive:.97,penaltyCoefficient:.1,prices:{BTC:10500,ETH:350,USDT:1,EOS:2,sUSD:1}};e["a"]=a},fea6:function(t,e,o){}});
//# sourceMappingURL=app.e1c0feaf.js.map